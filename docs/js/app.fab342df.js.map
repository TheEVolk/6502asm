{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?6098","webpack:///./src/components/Player.vue?c3fd","webpack:///./src/components/Display.vue?1b08","webpack:///src/components/Display.vue","webpack:///./src/components/Display.vue?63a2","webpack:///./src/components/Display.vue?a055","webpack:///./src/plugins/emulator/util.js","webpack:///./src/plugins/emulator/player/instructions.js","webpack:///./src/plugins/emulator/player/index.js","webpack:///src/components/Player.vue","webpack:///./src/components/Player.vue?c370","webpack:///./src/components/Player.vue","webpack:///./src/components/Editor.vue?e861","webpack:///./src/plugins/emulator/compiler/labelManager.js","webpack:///./src/plugins/emulator/compiler/opcodes.js","webpack:///./src/plugins/emulator/compiler/index.js","webpack:///src/components/Editor.vue","webpack:///./src/components/Editor.vue?145f","webpack:///./src/components/Editor.vue","webpack:///./src/components/Loader.vue?0b37","webpack:///src/components/Loader.vue","webpack:///./src/components/Loader.vue?3038","webpack:///./src/components/Loader.vue","webpack:///./src/components/About.vue?fc36","webpack:///./src/components/About.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/Display.vue?957d"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","on","v","$refs","editorPage","codeEditor","editor","setValue","save","toggleState","_s","state","directives","rawName","expression","compiledCode","ref","compiled","staticRenderFns","staticStyle","player","codeRunning","play","_e","$event","map","str","model","callback","$$v","speed","regPC","regSP","regA","regX","regY","regP","palette","component","num2hex","nr","hi","lo","substring","i00","i01","addr","popByte","memory","i05","zp","i06","memStoreByte","i08","stackPush","i09","i0a","i0d","popWord","i0e","i10","offset","jumpBranch","i11","i15","i16","i18","i19","i1d","i1e","i20","currAddr","i21","i24","i25","i26","sf","i28","stackPop","i29","i2a","i2c","i2d","i2e","i30","i31","i35","i36","i38","i39","i3d","i3e","i40","i41","i45","i46","i48","i49","i4a","i4c","i4d","i4e","i50","i51","i55","i56","i58","i59","i5d","i5e","i60","i61","testADC","i65","i66","i68","i69","i6a","i6c","i6d","i6e","i70","i71","i75","i76","i78","i79","i7d","i7e","i81","i84","i85","i86","i88","i8a","i8c","i8d","i8e","i90","i91","i94","i95","i96","i98","i99","i9a","i9d","ia0","ia1","ia2","ia4","ia5","ia6","ia8","ia9","iaa","iac","iad","iae","ib0","ib1","ib4","ib5","ib6","ib8","ib9","iba","ibc","ibd","ibe","ic0","ic1","doCompare","ic4","ic5","ic6","ic8","ic9","ica","icc","icd","ice","id0","id1","id5","id6","id8","id9","idd","ide","ie0","ie1","testSBC","ie4","ie5","ie6","ie8","ie9","iea","iec","ied","iee","if0","if1","if5","if6","if8","if9","ifd","ife","ierr","opcode","console","error","instructions","Player","defaultCodePC","Math","floor","random","log","display","setRawAddrPixel","reg","val","tmp","w","components","Display","props","mounted","document","methods","setCode","update","frame","execute","setTimeout","VAppBar","VBtn","VCard","VCardText","VCardTitle","VContainer","VIcon","VSelect","input","LabelManager","compiler","lines","forEach","indexLabels","e","CompilerError","message","stack","labels","thisPC","codeLen","compileLine","match","replace","includes","Error","found","find","split","startsWith","opcodes","Array","msg","lineNumber","Compiler","fill","code","reset","labelManager","indexAllLabels","newInput","compileCommand","rawCommand","command","toUpperCase","tokens","param","RegExp","parseInt","DCB","defines","entries","checkers","checkImmediate","checkZeroPage","checkZeroPageX","checkZeroPageY","checkAbsolute","checkAbsoluteX","checkAbsoluteY","checkIndirectX","checkIndirectY","checkSingle","checkBranch","queue","success","pushByte","label","hilo","getPC","number","pushWord","values","undefined","ch","localStorage","timer","clearTimeout","compile","compiling","response","$emit","scopedSlots","_u","fn","_g","_b","dialog","_l","item","load","file","description","VCardActions","VCardSubtitle","VDialog","VList","VListItem","VListItemContent","VListItemSubtitle","VListItemTitle","script","Editor","Loader","About","a","download","href","URL","createObjectURL","blob","dataset","downloadurl","join","style","body","appendChild","click","removeChild","VApp","VMain","VSpacer","Vue","use","Vuetify","theme","dark","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"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CAjI,EACAC,EACAC,EACA+H,GACA9H,EACAC,EACA6H,GACAA,GACAA,GACA5H,EACAC,EACA2H,GACA1H,EACAC,EACAyH,GACAA,GACAA,GACAxH,GACAC,GACAuH,GACAtH,GACAC,GACAqH,GACAA,GACAA,GACApH,GACAC,GACAmH,GACAlH,GACAC,GACAC,GACAgH,GACA/G,GACAC,GACAC,GACA6G,GACA5G,GACAC,GACA2G,GACAA,GACAA,GACA1G,GACAC,GACAyG,GACAxG,GACAC,GACAuG,GACAA,GACAA,GACAtG,GACAC,GACAqG,GACApG,GACAC,GACAmG,GACAA,GACAA,GACAjG,GACAC,GACAgG,GACA/F,GACAC,GACAC,GACA6F,GACA5F,GACAC,GACAC,GACA0F,GACAzF,GACAC,GACAwF,GACAA,GACAA,GACAvF,GACAC,GACAsF,GACArF,GACAC,GACAoF,GACAA,GACAA,GACAnF,GACAC,GACAkF,GACAA,GACAjF,GACAiF,GACAA,GACAhF,GACAC,GACAC,GACA8E,GACA7E,GACA6E,GACA5E,GACA4E,GACA3E,GACAC,GACAC,GACAyE,GACAxE,GACAC,GACAuE,GACAA,GACAtE,GACAC,GACAC,GACAoE,GACAnE,GACAC,GACAC,GACAiE,GACAA,GACAhE,GACAgE,GACAA,GACA/D,GACAC,GACAC,GACA6D,GACA5D,GACAC,GACAC,GACA0D,GACAzD,GACAC,GACAC,GACAuD,GACAtD,GACAC,GACAC,GACAoD,GACAnD,GACAC,GACAkD,GACAA,GACAjD,GACAC,GACAC,GACA+C,GACA9C,GACAC,GACAC,GACA4C,GACA3C,GACAC,GACAC,GACAyC,GACAxC,GACAC,GACAuC,GACAA,GACArC,GACAC,GACAC,GACAmC,GACAlC,GACAC,GACAC,GACAgC,GACA/B,GACAC,GACAC,GACA6B,GACA5B,GACAC,GACA2B,GACAA,GACAA,GACA1B,GACAC,GACAyB,GACAxB,GACAC,GACAuB,GACAA,GACAA,GACAtB,GACAC,GACAqB,GACApB,GACAC,GACAmB,GACAA,GACA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M,GAAM,GAAM,GAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,GAAM,EAAM,GAAM,GAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,GAAM,EAAM,EAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,KACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,KACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,KACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,KACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,KACzEA,MAAM,MAAO,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,GACzEA,MAAM,MAAO,IAAM,IAAM,EAAM,EAAM,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,IAAM,IAAM,EAAM,EAAM,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,IAAM,IAAM,EAAM,IAAM,IAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,GAAM,GAAM,GAAM,EAAM,GAAM,GAAM,GAAM,GAAM,GAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,IAAM,IAAM,EAAM,IAAM,IAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,GAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,GACzEA,MAAM,MAAO,IAAM,IAAM,EAAM,IAAM,IAAM,EAAM,IAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,GAAM,GAAM,EAAM,GAAM,GAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,GAAM,EAAM,GAAM,GAAM,GAAM,EAAM,GAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,IAAM,IAAM,EAAM,IAAM,IAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,GAAM,GAAM,EAAM,GAAM,GAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,IAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,IAAM,IAAM,EAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,IAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GAAM,GACzEA,MAAM,MAAO,EAAM,IAAM,EAAM,IAAM,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,IAAM,IAAM,EAAM,IAAM,EAAM,EAAM,EAAM,EAAM,EAAM,GACzEA,MAAM,MAAO,EAAM,EAAM,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","file":"js/app.fab342df.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"app\":\"\",\"color\":\"blue\",\"dark\":\"\",\"dense\":\"\"}},[_c('h1',{staticClass:\"d-flex align-center\"},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"mdi-chip\")]),_vm._v(\" 6502 ASM \")],1),_c('v-spacer'),_c('About'),_c('Loader',{on:{\"load\":function (v) { return _vm.$refs.editorPage.$refs.codeEditor.editor.setValue(v); }}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.save}},[_c('v-icon',[_vm._v(\"mdi-download\")])],1),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.toggleState}},[_vm._v(\" \"+_vm._s(this.state === 'player' ? 'Code editor' : 'Player')+\" \")])],1),_c('v-main',[_c('Player',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state === 'player'),expression:\"state === 'player'\"}],attrs:{\"compiledCode\":_vm.compiledCode}}),_c('Editor',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state === 'editor'),expression:\"state === 'editor'\"}],ref:\"editorPage\",on:{\"compiled\":_vm.compiled}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"width\":\"700px\",\"height\":\"700px\"}},[_c('Display',{ref:\"display\",staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}})],1),_c('v-container',{staticStyle:{\"float\":\"right\",\"width\":\"calc(100% - 700px)\"}},[_c('v-app-bar',{attrs:{\"dark\":\"\",\"dense\":\"\"}},[(_vm.compiledCode && !this.player.codeRunning)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.play}},[_c('v-icon',[_vm._v(\"mdi-play\")])],1):_vm._e(),(this.player.codeRunning)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.player.codeRunning = false}}},[_c('v-icon',[_vm._v(\"mdi-pause\")])],1):_vm._e()],1),_c('v-app-bar',{attrs:{\"dark\":\"\"}},[_c('v-select',{attrs:{\"label\":\"Speed\",\"dense\":\"\",\"items\":[16, 32, 64, 128, 256, 512, 1024].map(function (v) { return ({ str: (\"x\" + v), value: v }); }),\"item-text\":\"str\",\"item-value\":\"value\"},model:{value:(_vm.speed),callback:function ($$v) {_vm.speed=$$v},expression:\"speed\"}})],1),_c('v-card',[_c('v-card-title',[_vm._v(\"Регистры\")]),_c('v-card-text',[_c('div',[_vm._v(\"regPC: \"+_vm._s(_vm.player.regPC))]),_c('div',[_vm._v(\"regSP: \"+_vm._s(_vm.player.regSP))]),_c('div'),_c('div',[_vm._v(\"regA: \"+_vm._s(_vm.player.regA))]),_c('div',[_vm._v(\"regX: \"+_vm._s(_vm.player.regX))]),_c('div',[_vm._v(\"regY: \"+_vm._s(_vm.player.regY))]),_c('div',[_vm._v(\"regP: \"+_vm._s(_vm.player.regP))])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",attrs:{\"width\":\"100%\",\"height\":\"100%\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <canvas ref=\"canvas\" width=\"100%\" height=\"100%\"/>\n</template>\n\n<style scoped>\ncanvas {\n  background: black;\n}\n</style>\n\n<script>\n  export default {\n    data: () => ({\n      palette: [\n        '#000000', '#ffffff', '#880000', '#aaffee',\n        '#cc44cc', '#00cc55', '#0000aa', '#eeee77',\n        '#dd8855', '#664400', '#ff7777', '#333333',\n        '#777777', '#aaff66', '#0088ff', '#bbbbbb'\n      ]\n    }),\n\n    mounted() {\n      this.canvas = this.$refs.canvas;\n      this.canvas.width = this.canvas.height = 512;\n      this.context = this.canvas.getContext('2d');\n    },\n\n    methods: {\n      update(memory) {\n        for (let y = 0; y < 32; y++) {\n          for (let x = 0; x < 32; x++) {\n            const addr = (y << 5) + x;\n            this.setAddrPixel(addr, this.palette[memory[addr + 0x200] & 0x0f]);\n          }\n        }\n      },\n\n      setPixel(x, y, color) {\n        this.context.fillStyle = color;\n        this.context.fillRect(x * 16, y * 16, 16, 16);\n      },\n\n      setAddrPixel(addr, color) {\n        const y = Math.floor((addr) / 32);\n        const x = (addr) % 32;\n        this.setPixel(x, y, color);\n      },\n\n      setRawAddrPixel(addr, colorId) {\n        this.setAddrPixel(addr, this.palette[colorId]);\n      }\n    }\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Display.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Display.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Display.vue?vue&type=template&id=71e6a92c&scoped=true&\"\nimport script from \"./Display.vue?vue&type=script&lang=js&\"\nexport * from \"./Display.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Display.vue?vue&type=style&index=0&id=71e6a92c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71e6a92c\",\n  null\n  \n)\n\nexport default component.exports","export function addr2hex(addr) {\r\n  return num2hex((addr >> 8) & 0xff) + num2hex(addr & 0xff);\r\n}\r\n\r\nexport function num2hex(nr) {\r\n  var str = \"0123456789abcdef\";\r\n  var hi = ((nr & 0xf0) >> 4);\r\n  var lo = (nr & 15);\r\n  return str.substring(hi, hi + 1) + str.substring(lo, lo + 1);\r\n}","import { num2hex } from '../util.js';\r\n\r\nfunction i00() {\r\n  this.codeRunning = false;\r\n}\r\n\r\nfunction i01() {\r\n  const addr = this.popByte() + this.regX;\r\n  const value = this.memory[addr] + (this.memory[addr+1] << 8);\r\n  this.regA |= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i05() {\r\n  const zp = this.popByte();\r\n  this.regA |= this.memory[zp];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i06() {\r\n  const zp = this.popByte();\r\n  let value = this.memory[zp];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  this.memStoreByte( zp, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i08() {\r\n  this.stackPush( this.regP );\r\n}\r\n\r\nfunction i09() {\r\n  this.regA |= this.popByte();\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i0a() {\r\n  this.regP = (this.regP & 0xfe) | ((this.regA>>7)&1);\r\n  this.regA = this.regA<<1;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i0d() {\r\n  this.regA |= this.memory[this.popWord()];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i0e() {\r\n  const addr = this.popWord();\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 2;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i10() {\r\n  const offset = this.popByte();\r\n  if( (this.regP & 0x80) == 0 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction i11() {\r\n  const zp = this.popByte();\r\n  const value = this.memory[zp] + (this.memory[zp+1]<<8) + this.regY;\r\n  this.regA |= this.memory[value];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i15() {\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  this.regA |= this.memory[addr];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i16() {\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i18() {\r\n  this.regP &= 0xfe;\r\n}\r\n\r\nfunction i19() {\r\n  const addr = this.popWord() + this.regY;\r\n  this.regA |= this.memory[addr];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i1d() {\r\n  const addr = this.popWord() + this.regX;\r\n  this.regA |= this.memory[addr];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i1e() {\r\n  const addr = this.popWord() + this.regX;\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i20() {\r\n  const addr = this.popWord();\r\n  const currAddr = this.regPC-1;\r\n  this.stackPush( ((currAddr >> 8) & 0xff) );\r\n  this.stackPush( (currAddr & 0xff) );\r\n  this.regPC = addr;\r\n}\r\n\r\nfunction i21() {\r\n  const addr = (this.popByte() + this.regX)&0xff;\r\n  const value = this.memory[addr]+(this.memory[addr+1] << 8);\r\n  this.regA &= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i24() {\r\n  const zp = this.popByte();\r\n  const value = this.memory[zp];\r\n  if( value & this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  this.regP = (this.regP & 0x3f) | (value & 0xc0);\r\n}\r\n\r\nfunction i25() {\r\n  const zp = this.popByte();\r\n  this.regA &= this.memory[zp];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 2;\r\n  if( this.regA & 0x80 ) this.regP &= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i26() {\r\n  const sf = (this.regP & 1);\r\n  const addr = this.popByte();\r\n  let value = this.memory[addr]; //  & this.regA;  -- Thanks DMSC ;)\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  value |= sf;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i28() {\r\n  this.regP = this.stackPop() | 0x20;\r\n}\r\n\r\nfunction i29() {\r\n  this.regA &= this.popByte();\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i2a() {\r\n  const sf = (this.regP&1);\r\n  this.regP = (this.regP&0xfe) | ((this.regA>>7)&1);\r\n  this.regA = this.regA << 1;\r\n  this.regA |= sf;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i2c() {\r\n  const value = this.memory[this.popWord()];\r\n  if( value & this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  this.regP = (this.regP & 0x3f) | (value & 0xc0);\r\n}\r\n\r\nfunction i2d() {\r\n  const value = this.memory[this.popWord()];\r\n  this.regA &= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i2e() {\r\n  const sf = this.regP & 1;\r\n  const addr = this.popWord();\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  value |= sf;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i30() {\r\n  const offset = this.popByte();\r\n  if( this.regP & 0x80 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction i31() {\r\n  const zp = this.popByte();\r\n  const value = this.memory[zp]+(this.memory[zp+1]<<8) + this.regY;\r\n  this.regA &= this.memory[value];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i35() {\r\n  const zp = this.popByte();\r\n  const value = this.memory[zp]+(this.memory[zp+1]<<8) + this.regX;\r\n  this.regA &= this.memory[value];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i36() {\r\n  const sf = this.regP & 1;\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  value |= sf;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i38() {\r\n  this.regP |= 1;\r\n}\r\n\r\nfunction i39() {\r\n  const addr = this.popWord() + this.regY;\r\n  const value = this.memory[addr];\r\n  this.regA &= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i3d() {\r\n  const addr = this.popWord() + this.regX;\r\n  const value = this.memory[addr];\r\n  this.regA &= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i3e() {\r\n  const sf = this.regP&1;\r\n  const addr = this.popWord() + this.regX;\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | ((value>>7)&1);\r\n  value = value << 1;\r\n  value |= sf;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i40() {\r\n}\r\n\r\nfunction i41() {\r\n  const zp = (this.popByte() + this.regX)&0xff;\r\n  const value = this.memory[zp]+ (this.memory[zp+1]<<8);\r\n  this.regA ^= this.memory[value];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i45() {\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  const value = this.memory[addr];\r\n  this.regA ^= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i46() {\r\n  const addr = this.popByte() & 0xff;\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP & 0xfe) | (value&1);\r\n  value = value >> 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value != 0 ) this.regP &= 0xfd; else this.regP |= 2;\r\n  if( (value&0x80) == 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i48() {\r\n  this.stackPush( this.regA );\r\n}\r\n\r\nfunction i49() {\r\n  this.regA ^= this.popByte();\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i4a() {\r\n  this.regP = (this.regP&0xfe) | (this.regA&1);\r\n  this.regA = this.regA >> 1;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i4c() {\r\n  this.regPC = this.popWord();\r\n}\r\n\r\nfunction i4d() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[addr];\r\n  this.regA ^= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i4e() {\r\n  const addr = this.popWord();\r\n  let value = this.memory[addr];\r\n  this.regP = (this.regP&0xfe)|(value&1);\r\n  value = value >> 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i50() {\r\n  const offset = this.popByte();\r\n  if( (this.regP & 0x40) == 0 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction i51() {\r\n  const zp = this.popByte();\r\n  const value = this.memory[zp] + (this.memory[zp+1]<<8) + this.regY;\r\n  this.regA ^= this.memory[value];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i55() {\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  this.regA ^= this.memory[ addr ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i56() {\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  let value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe) | (value&1);\r\n  value = value >> 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i58() {\r\n}\r\n\r\nfunction i59() {\r\n  const addr = this.popWord() + this.regY;\r\n  const value = this.memory[ addr ];\r\n  this.regA ^= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i5d() {\r\n  const addr = this.popWord() + this.regX;\r\n  const value = this.memory[ addr ];\r\n  this.regA ^= value;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i5e() {\r\n  const addr = this.popWord() + this.regX;\r\n  let value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe) | (value&1);\r\n  value = value >> 1;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i60() {\r\n  this.regPC = (this.stackPop()+1) | (this.stackPop()<<8);\r\n}\r\n\r\nfunction i61() {\r\n  const zp = (this.popByte() + this.regX)&0xff;\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8);\r\n  const value = this.memory[ addr ];\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i65() {\r\n  const addr = this.popByte();\r\n  const value = this.memory[ addr ];\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i66() {\r\n  const sf = this.regP&1;\r\n  const addr = this.popByte();\r\n  let value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe)|(value&1);\r\n  value = value >> 1;\r\n  if( sf ) value |= 0x80;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i68() {\r\n  this.regA = this.stackPop();\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i69() {\r\n  const value = this.popByte();\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i6a() {\r\n  const sf = this.regP&1;\r\n  this.regP = (this.regP&0xfe) | (this.regA&1);\r\n  this.regA = this.regA >> 1;\r\n  if( sf ) this.regA |= 0x80;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i6c() {\r\n}\r\n\r\nfunction i6d() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[ addr ];\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i6e() {\r\n  const sf = this.regP&1;\r\n  const addr = this.popWord();\r\n  let value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe)|(value&1);\r\n  value = value >> 1;\r\n  if( sf ) value |= 0x80;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i70() {\r\n  const offset = this.popByte();\r\n  if( this.regP & 0x40 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction i71() {\r\n  const zp = this.popByte();\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8);\r\n  const value = this.memory[ addr + this.regY ];\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i75() {\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  const value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe) | (value&1);\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i76() {\r\n  const sf = (this.regP&1);\r\n  const addr = (this.popByte() + this.regX) & 0xff;\r\n  let value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe) | (value&1);\r\n  value = value >> 1;\r\n  if( sf ) value |= 0x80;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i78() {\r\n}\r\n\r\nfunction i79() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[ addr + this.regY ];\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i7d() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[ addr + this.regX ];\r\n  this.testADC( value );\r\n}\r\n\r\nfunction i7e() {\r\n  // const sf = this.regP&1;\r\n  const addr = this.popWord() + this.regX;\r\n  let value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe) | (value&1);\r\n  value = value >> 1;\r\n  if( value ) value |= 0x80;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i81() {\r\n  const zp = (this.popByte()+this.regX)&0xff;\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8);\r\n  this.memStoreByte( addr, this.regA );\r\n}\r\n\r\nfunction i84() {\r\n  this.memStoreByte( this.popByte(), this.regY );\r\n}\r\n\r\nfunction i85() {\r\n  this.memStoreByte( this.popByte(), this.regA );\r\n}\r\n\r\nfunction i86() {\r\n  this.memStoreByte( this.popByte(), this.regX );\r\n}\r\n\r\nfunction i88() {\r\n  this.regY = (this.regY-1) & 0xff;\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i8a() {\r\n  this.regA = this.regX & 0xff;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i8c() {\r\n  this.memStoreByte( this.popWord(), this.regY );\r\n}\r\n\r\nfunction i8d() {\r\n  this.memStoreByte( this.popWord(), this.regA );\r\n}\r\n\r\nfunction i8e() {\r\n  this.memStoreByte( this.popWord(), this.regX );\r\n}\r\n\r\nfunction i90() {\r\n  const offset = this.popByte();\r\n  if( ( this.regP & 1 ) == 0 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction i91() {\r\n  const zp = this.popByte();\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8) + this.regY;\r\n  this.memStoreByte( addr, this.regA );\r\n}\r\n\r\nfunction i94() {\r\n  this.memStoreByte( this.popByte() + this.regX, this.regY );\r\n}\r\n\r\nfunction i95() {\r\n  this.memStoreByte( this.popByte() + this.regX, this.regA );\r\n}\r\n\r\nfunction i96() {\r\n  this.memStoreByte( this.popByte() + this.regY, this.regX );\r\n}\r\n\r\nfunction i98() {\r\n  this.regA = this.regY & 0xff;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction i99() {\r\n  this.memStoreByte( this.popWord() + this.regY, this.regA );\r\n}\r\n\r\nfunction i9a() {\r\n  this.regSP = this.regX & 0xff;\r\n}\r\n\r\nfunction i9d() {\r\n  const addr = this.popWord();\r\n  this.memStoreByte( addr + this.regX, this.regA );\r\n}\r\n\r\nfunction ia0() {\r\n  this.regY = this.popByte();\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia1() {\r\n  const zp = (this.popByte()+this.regX)&0xff;\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8);\r\n  this.regA = this.memory[ addr ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia2() {\r\n  this.regX = this.popByte();\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia4() {\r\n  this.regY = this.memory[ this.popByte() ];\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia5() {\r\n  this.regA = this.memory[ this.popByte() ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia6() {\r\n  this.regX = this.memory[ this.popByte() ];\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia8() {\r\n  this.regY = this.regA & 0xff;\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ia9() {\r\n  this.regA = this.popByte();\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction iaa() {\r\n  this.regX = this.regA & 0xff;\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction iac() {\r\n  this.regY = this.memory[ this.popWord() ];\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction iad() {\r\n  this.regA = this.memory[ this.popWord() ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction iae() {\r\n  this.regX = this.memory[ this.popWord() ];\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ib0() {\r\n  const offset = this.popByte();\r\n  if( this.regP & 1 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction ib1() {\r\n  const zp = this.popByte();\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8) + this.regY;\r\n  this.regA = this.memory[ addr ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ib4() {\r\n  this.regY = this.memory[ this.popByte() + this.regX ];\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ib5() {\r\n  this.regA = this.memory[ (this.popByte() + this.regX) & 0xff ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ib6() {\r\n  this.regX = this.memory[ this.popByte() + this.regY ];\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ib8() {\r\n  this.regP &= 0xbf;\r\n}\r\n\r\nfunction ib9() {\r\n  const addr = this.popWord() + this.regY;\r\n  this.regA = this.memory[ addr ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction iba() {\r\n  this.regX = this.regSP & 0xff;\r\n}\r\n\r\nfunction ibc() {\r\n  const addr = this.popWord() + this.regX;\r\n  this.regY = this.memory[ addr ];\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ibd() {\r\n  const addr = this.popWord() + this.regX;\r\n  this.regA = this.memory[ addr ];\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ibe() {\r\n  const addr = this.popWord() + this.regY;\r\n  this.regX = this.memory[ addr ];\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ic0() {\r\n  let value = this.popByte();\r\n  if( (this.regY+value) > 0xff ) this.regP |= 1; else this.regP &= 0xfe;\r\n  // const ov = value;\r\n  value = (this.regY-value);\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ic1() {\r\n  const zp = this.popByte();\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8) + this.regY;\r\n  const value = this.memory[ addr ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction ic4() {\r\n  const value = this.memory[ this.popByte() ];\r\n  this.doCompare( this.regY, value );\r\n}\r\n\r\nfunction ic5() {\r\n  const value = this.memory[ this.popByte() ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction ic6() {\r\n  const zp = this.popByte();\r\n  let value = this.memory[ zp ];\r\n  --value;\r\n  this.memStoreByte( zp, value&0xff );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ic8() {\r\n  this.regY = (this.regY + 1) & 0xff;\r\n  if( this.regY ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regY & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ic9() {\r\n  const value = this.popByte();\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction ica() {\r\n  this.regX = (this.regX-1) & 0xff;\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction icc() {\r\n  const value = this.memory[ this.popWord() ];\r\n  this.doCompare( this.regY, value );\r\n}\r\n\r\nfunction icd() {\r\n  const value = this.memory[ this.popWord() ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction ice() {\r\n  const addr = this.popWord();\r\n  let value = this.memory[ addr ];\r\n  --value;\r\n  value = value&0xff;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction id0() {\r\n  const offset = this.popByte();\r\n  if( (this.regP&2)==0 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction id1() {\r\n  const zp = this.popByte();\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8) + this.regY;\r\n  const value = this.memory[ addr ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction id5() {\r\n  const value = this.memory[ this.popByte() + this.regX ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction id6() {\r\n  const addr = this.popByte() + this.regX;\r\n  let value = this.memory[ addr ];\r\n  --value;\r\n  value = value&0xff;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction id8() {\r\n  this.regP &= 0xf7;\r\n}\r\n\r\nfunction id9() {\r\n  const addr = this.popWord() + this.regY;\r\n  const value = this.memory[ addr ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction idd() {\r\n  const addr = this.popWord() + this.regX;\r\n  const value = this.memory[ addr ];\r\n  this.doCompare( this.regA, value );\r\n}\r\n\r\nfunction ide() {\r\n  const addr = this.popWord() + this.regX;\r\n  let value = this.memory[ addr ];\r\n  --value;\r\n  value = value&0xff;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ie0() {\r\n  const value = this.popByte();\r\n  this.doCompare( this.regX, value );\r\n}\r\n\r\nfunction ie1() {\r\n  const zp = (this.popByte()+this.regX)&0xff;\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8);\r\n  const value = this.memory[ addr ];\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction ie4() {\r\n  const value = this.memory[ this.popByte() ];\r\n  this.doCompare( this.regX, value );\r\n}\r\n\r\nfunction ie5() {\r\n  const addr = this.popByte();\r\n  const value = this.memory[ addr ];\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction ie6() {\r\n  const zp = this.popByte();\r\n  let value = this.memory[ zp ];\r\n  ++value;\r\n  value = (value)&0xff;\r\n  this.memStoreByte( zp, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ie8() {\r\n  this.regX = (this.regX + 1) & 0xff;\r\n  if( this.regX ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regX & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ie9() {\r\n  const value = this.popByte();\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction iea() {\r\n}\r\n\r\nfunction iec() {\r\n  const value = this.memory[ this.popWord() ];\r\n  this.doCompare( this.regX, value );\r\n}\r\n\r\nfunction ied() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[ addr ];\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction iee() {\r\n  const addr = this.popWord();\r\n  let value = this.memory[ addr ];\r\n  ++value;\r\n  value = (value)&0xff;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction if0() {\r\n  const offset = this.popByte();\r\n  if( this.regP&2 ) this.jumpBranch( offset );\r\n}\r\n\r\nfunction if1() {\r\n  const zp = this.popByte();\r\n  const addr = this.memory[zp] + (this.memory[zp+1]<<8);\r\n  const value = this.memory[ addr + this.regY ];\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction if5() {\r\n  const addr = (this.popByte() + this.regX)&0xff;\r\n  const value = this.memory[ addr ];\r\n  this.regP = (this.regP&0xfe)|(value&1);\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction if6() {\r\n  const addr = this.popByte() + this.regX;\r\n  let value = this.memory[ addr ];\r\n  ++value;\r\n  value=value&0xff;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction if8() {\r\n  this.regP |= 8;\r\n}\r\n\r\nfunction if9() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[ addr + this.regY ];\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction ifd() {\r\n  const addr = this.popWord();\r\n  const value = this.memory[ addr + this.regX ];\r\n  this.testSBC( value );\r\n}\r\n\r\nfunction ife() {\r\n  const addr = this.popWord() + this.regX;\r\n  let value = this.memory[ addr ];\r\n  ++value;\r\n  value=value&0xff;\r\n  this.memStoreByte( addr, value );\r\n  if( value ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( value & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n\r\nfunction ierr(opcode) {\r\n  console.error( \"Address $\" + this.regPC + \" - unknown opcode \" + num2hex(opcode) );\r\n  this.codeRunning = false;\r\n}\r\n\r\nconst instructions = [\r\n  i00,\t//00\r\n  i01,\t//01\r\n  ierr,\t//02\r\n  ierr,\t//03\r\n  ierr,\t//04\r\n  i05,\t//05\r\n  i06,\t//06\r\n  ierr,\t//07\r\n  i08,\t//08\r\n  i09,\t//09\r\n  i0a,\t//0a\r\n  ierr,\t//0b\r\n  ierr,\t//0c\r\n  i0d,\t//0d\r\n  i0e,\t//0e\r\n  ierr,\t//0f\r\n  i10,\t//10\r\n  i11,\t//11\r\n  ierr,\t//12\r\n  ierr,\t//13\r\n  ierr,\t//14\r\n  i15,\t//15\r\n  i16,\t//16\r\n  ierr,\t//17\r\n  i18,\t//18\r\n  i19,\t//19\r\n  ierr,\t//1a\r\n  ierr,\t//1b\r\n  ierr,\t//1c\r\n  i1d,\t//1d\r\n  i1e,\t//1e\r\n  ierr,\t//1f\r\n  i20,\t//20\r\n  i21,\t//21\r\n  ierr,\t//22\r\n  ierr,\t//23\r\n  i24,\t//24\r\n  i25,\t//25\r\n  i26,\t//26\r\n  ierr,\t//27\r\n  i28,\t//28\r\n  i29,\t//29\r\n  i2a,\t//2a\r\n  ierr,\t//2b\r\n  i2c,\t//2c\r\n  i2d,\t//2d\r\n  i2e,\t//2e\r\n  ierr,\t//2f\r\n  i30,\t//30\r\n  i31,\t//31\r\n  ierr,\t//32\r\n  ierr,\t//33\r\n  ierr,\t//34\r\n  i35,\t//35\r\n  i36,\t//36\r\n  ierr,\t//37\r\n  i38,\t//38\r\n  i39,\t//39\r\n  ierr,\t//3a\r\n  ierr,\t//3b\r\n  ierr,\t//3c\r\n  i3d,\t//3d\r\n  i3e,\t//3e\r\n  ierr,\t//3f\r\n  i40,\t//40\r\n  i41,\t//41\r\n  ierr,\t//42\r\n  ierr,\t//43\r\n  ierr,\t//44\r\n  i45,\t//45\r\n  i46,\t//46\r\n  ierr,\t//47\r\n  i48,\t//48\r\n  i49,\t//49\r\n  i4a,\t//4a\r\n  ierr,\t//4b\r\n  i4c,\t//4c\r\n  i4d,\t//4d\r\n  i4e,\t//4e\r\n  ierr,\t//4f\r\n  i50,\t//50\r\n  i51,\t//51\r\n  ierr,\t//52\r\n  ierr,\t//53\r\n  ierr,\t//54\r\n  i55,\t//55\r\n  i56,\t//56\r\n  ierr,\t//57\r\n  i58,\t//58\r\n  i59,\t//59\r\n  ierr,\t//5a\r\n  ierr,\t//5b\r\n  ierr,\t//5c\r\n  i5d,\t//5d\r\n  i5e,\t//5e\r\n  ierr,\t//5f\r\n  i60,\t//60\r\n  i61,\t//61\r\n  ierr,\t//62\r\n  ierr,\t//63\r\n  ierr,\t//64\r\n  i65,\t//65\r\n  i66,\t//66\r\n  ierr,\t//67\r\n  i68,\t//68\r\n  i69,\t//69\r\n  i6a,\t//6a\r\n  ierr,\t//6b\r\n  i6c,\t//6c\r\n  i6d,\t//6d\r\n  i6e,\t//6e\r\n  ierr,\t//6f\r\n  i70,\t//70\r\n  i71,\t//71\r\n  ierr,\t//72\r\n  ierr,\t//73\r\n  ierr,\t//74\r\n  i75,\t//75\r\n  i76,\t//76\r\n  ierr,\t//77\r\n  i78,\t//78\r\n  i79,\t//79\r\n  ierr,\t//7a\r\n  ierr,\t//7b\r\n  ierr,\t//7c\r\n  i7d,\t//7d\r\n  i7e,\t//7e\r\n  ierr,\t//7f\r\n  ierr,\t//80\r\n  i81,\t//81\r\n  ierr,\t//82\r\n  ierr,\t//83\r\n  i84,\t//84\r\n  i85,\t//85\r\n  i86,\t//86\r\n  ierr,\t//87\r\n  i88,\t//88\r\n  ierr,\t//89\r\n  i8a,\t//8a\r\n  ierr,\t//8b\r\n  i8c,\t//8c\r\n  i8d,\t//8d\r\n  i8e,\t//8e\r\n  ierr,\t//8f\r\n  i90,\t//90\r\n  i91,\t//91\r\n  ierr,\t//92\r\n  ierr,\t//93\r\n  i94,\t//94\r\n  i95,\t//95\r\n  i96,\t//96\r\n  ierr,\t//97\r\n  i98,\t//98\r\n  i99,\t//99\r\n  i9a,\t//9a\r\n  ierr,\t//9b\r\n  ierr,\t//9c\r\n  i9d,\t//9d\r\n  ierr,\t//9e\r\n  ierr,\t//9f\r\n  ia0,\t//a0\r\n  ia1,\t//a1\r\n  ia2,\t//a2\r\n  ierr,\t//a3\r\n  ia4,\t//a4\r\n  ia5,\t//a5\r\n  ia6,\t//a6\r\n  ierr,\t//a7\r\n  ia8,\t//a8\r\n  ia9,\t//a9\r\n  iaa,\t//aa\r\n  ierr,\t//ab\r\n  iac,\t//ac\r\n  iad,\t//ad\r\n  iae,\t//ae\r\n  ierr,\t//af\r\n  ib0,\t//b0\r\n  ib1,\t//b1\r\n  ierr,\t//b2\r\n  ierr,\t//b3\r\n  ib4,\t//b4\r\n  ib5,\t//b5\r\n  ib6,\t//b6\r\n  ierr,\t//b7\r\n  ib8,\t//b8\r\n  ib9,\t//b9\r\n  iba,\t//ba\r\n  ierr,\t//bb\r\n  ibc,\t//bc\r\n  ibd,\t//bd\r\n  ibe,\t//be\r\n  ierr,\t//bf\r\n  ic0,\t//c0\r\n  ic1,\t//c1\r\n  ierr,\t//c2\r\n  ierr,\t//c3\r\n  ic4,\t//c4\r\n  ic5,\t//c5\r\n  ic6,\t//c6\r\n  ierr,\t//c7\r\n  ic8,\t//c8\r\n  ic9,\t//c9\r\n  ica,\t//ca\r\n  ierr,\t//cb\r\n  icc,\t//cc\r\n  icd,\t//cd\r\n  ice,\t//ce\r\n  ierr,\t//cf\r\n  id0,\t//d0\r\n  id1,\t//d1\r\n  ierr,\t//d2\r\n  ierr,\t//d3\r\n  ierr,\t//d4\r\n  id5,\t//d5\r\n  id6,\t//d6\r\n  ierr,\t//d7\r\n  id8,\t//d8\r\n  id9,\t//d9\r\n  ierr,\t//da\r\n  ierr,\t//db\r\n  ierr,\t//dc\r\n  idd,\t//dd\r\n  ide,\t//de\r\n  ierr,\t//df\r\n  ie0,\t//e0\r\n  ie1,\t//e1\r\n  ierr,\t//e2\r\n  ierr,\t//e3\r\n  ie4,\t//e4\r\n  ie5,\t//e5\r\n  ie6,\t//e6\r\n  ierr,\t//e7\r\n  ie8,\t//e8\r\n  ie9,\t//e9\r\n  iea,\t//ea\r\n  ierr,\t//eb\r\n  iec,\t//ec\r\n  ied,\t//ed\r\n  iee,\t//ee\r\n  ierr,\t//ef\r\n  if0,\t//f0\r\n  if1,\t//f1\r\n  ierr,\t//f2\r\n  ierr,\t//f3\r\n  ierr,\t//f4\r\n  if5,\t//f5\r\n  if6,\t//f6\r\n  ierr,\t//f7\r\n  if8,\t//f8\r\n  if9,\t//f9\r\n  ierr,\t//fa\r\n  ierr,\t//fb\r\n  ierr,\t//fc\r\n  ifd,\t//fd\r\n  ife,\t//fe\r\n  ierr\t//ff\r\n];\r\n\r\nexport default instructions;","import instructions from './instructions.js';\r\n\r\nexport default class Player {\r\n  codeRunning = false;\r\n  defaultCodePC = 0x600;\r\n  // Registers\r\n  regA = 0;\r\n  regX = 0;\r\n  regY = 0;\r\n  regP = 0;\r\n  regPC = 0x600;\r\n  regSP = 0x100;\r\n\r\n  setCode(compiledCode) {\r\n    this.regPC = compiledCode.regPC;\r\n    this.defaultCodePC = compiledCode.defaultCodePC;\r\n    this.memory = [...compiledCode.memory];\r\n\r\n    this.regA = this.regX = this.regY = 0;\r\n    this.regSP = 0x100;\r\n    this.regP = 0x20;\r\n  }\r\n\r\n  execute() {\r\n    if(!this.codeRunning) {\r\n      return false;\r\n    }\r\n    \r\n    this.memory[0xfe] = Math.floor(Math.random() * 256);\r\n    const opcode = this.popByte()\r\n    instructions[opcode].call(this, opcode);\r\n\r\n    if (this.regPC === 0 || !this.codeRunning) {\r\n      console.log( \"Program end at PC=$\" + ( this.regPC-1 ) );\r\n      this.codeRunning = false;\r\n      return false\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  // Memory\r\n  popByte () {\r\n    return this.memory[this.regPC++] & 0xff;\r\n  }\r\n\r\n  popWord() {\r\n    return this.popByte() + (this.popByte() << 8);\r\n  }\r\n\r\n  memStoreByte( addr, value ) {\r\n    this.memory[ addr ] = (value & 0xff);\r\n    if( (addr >= 0x200) && (addr<=0x5ff) ) \r\n      this.display.setRawAddrPixel(addr-0x200, this.memory[addr] & 0x0f);\r\n  }\r\n\r\n  // stack\r\n  stackPush( value ) {\r\n    if( this.regSP >= 0 ) {\r\n      this.regSP--;\r\n      this.memory[(this.regSP&0xff)+0x100] = value & 0xff;\r\n    } else {\r\n      console.error( \"Stack full: \" + this.regSP );\r\n      this.codeRunning = false;\r\n    }\r\n  }\r\n\r\n  stackPop() {\r\n    if( this.regSP < 0x100 ) {\r\n      const value = this.memory[this.regSP+0x100];\r\n      this.regSP++;\r\n      return value;\r\n    } else {\r\n      console.error( \"Stack empty\" );\r\n      this.codeRunning = false;\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  // utils\r\n  doCompare( reg, val ) {\r\n    //  if( (reg+val) > 0xff ) regP |= 1; else regP &= 0xfe;\r\n      if( reg>=val ) this.regP |= 1; else this.regP &= 0xfe;\t// Thanks, \"Guest\"\r\n      val = (reg-val);\r\n      if( val ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n      if( val & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n    }\r\n\r\n  jumpBranch(offset) {\r\n    this.regPC = offset > 0x7f ? (this.regPC - (0x100 - offset)) : (this.regPC + offset );\r\n  }\r\n\r\n  testADC( value ) {\r\n    if( (this.regA ^ value) & 0x80 ) {\r\n      this.regP &= 0xbf;\r\n    } else {\r\n      this.regP |= 0x40;\r\n    }\r\n  \r\n    let tmp;\r\n    if( this.regP & 8 ) {\r\n      tmp = (this.regA & 0xf) + (value & 0xf) + (this.regP&1);\r\n      if( tmp >= 10 ) {\r\n        tmp = 0x10 | ((tmp+6)&0xf);\r\n      }\r\n      tmp += (this.regA & 0xf0) + (value & 0xf0);\r\n      if( tmp >= 160) {\r\n        this.regP |= 1;\r\n        if( (this.regP&0xbf) && tmp >= 0x180 ) this.regP &= 0xbf;\r\n        tmp += 0x60;\r\n      } else {\r\n        this.regP &= 0xfe;\r\n        if( (this.regP&0xbf) && tmp<0x80 ) this.regP &= 0xbf;\r\n      }\r\n    } else {\r\n      tmp = this.regA + value + (this.regP&1);\r\n      if( tmp >= 0x100 ) {\r\n        this.regP |= 1;\r\n        if( (this.regP&0xbf) && tmp>=0x180) this.regP &= 0xbf;\r\n      } else {\r\n        this.regP &= 0xfe;\r\n        if( (this.regP&0xbf) && tmp<0x80) this.regP &= 0xbf;\r\n      }\r\n    }\r\n    this.regA = tmp & 0xff;\r\n    if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n    if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n  }\r\n\r\ntestSBC( value ) {\r\n  // let vflag;\r\n  /*if( (this.regA ^ value ) & 0x80 )\r\n    vflag = 1;\r\n  else\r\n    vflag = 0;*/\r\n\r\n    let tmp;\r\n    let w;\r\n  if( this.regP & 8 ) {\r\n    tmp = 0xf + (this.regA & 0xf) - (value & 0xf) + (this.regP&1);\r\n    if( tmp < 0x10 ) {\r\n      w = 0;\r\n      tmp -= 6;\r\n    } else {\r\n      w = 0x10;\r\n      tmp -= 0x10;\r\n    }\r\n    w += 0xf0 + (this.regA & 0xf0) - (value & 0xf0);\r\n    if( w < 0x100 ) {\r\n      this.regP &= 0xfe;\r\n      if( (this.regP&0xbf) && w<0x80) this.regP&=0xbf;\r\n      w -= 0x60;\r\n    } else {\r\n      this.regP |= 1;\r\n      if( (this.regP&0xbf) && w>=0x180) this.regP&=0xbf;\r\n    }\r\n    w += tmp;\r\n  } else {\r\n    w = 0xff + this.regA - value + (this.regP&1);\r\n    if( w<0x100 ) {\r\n      this.regP &= 0xfe;\r\n      if( (this.regP&0xbf) && w<0x80 ) this.regP&=0xbf;\r\n    } else {\r\n      this.regP |= 1;\r\n      if( (this.regP&0xbf) && w>= 0x180) this.regP&=0xbf;\r\n    }\r\n  }\r\n  this.regA = w & 0xff;\r\n  if( this.regA ) this.regP &= 0xfd; else this.regP |= 0x02;\r\n  if( this.regA & 0x80 ) this.regP |= 0x80; else this.regP &= 0x7f;\r\n}\r\n}","<template>\r\n<div style=\"height: 100%\">\r\n  <div style=\"position: absolute; width: 700px; height: 700px\">\r\n    <Display ref=\"display\" style=\"width: 100%; height: 100%\"/>\r\n  </div>\r\n  <v-container style=\"float: right; width: calc(100% - 700px)\">\r\n    <v-app-bar dark dense>\r\n      <v-btn icon v-if=\"compiledCode && !this.player.codeRunning\" @click=\"play\"><v-icon>mdi-play</v-icon></v-btn>\r\n      <v-btn icon v-if=\"this.player.codeRunning\" @click=\"player.codeRunning = false\"><v-icon>mdi-pause</v-icon></v-btn>\r\n    </v-app-bar>\r\n    <v-app-bar dark>\r\n      <v-select label=\"Speed\" dense v-model=\"speed\" :items=\"[16, 32, 64, 128, 256, 512, 1024].map(v => ({ str: `x${v}`, value: v }))\" item-text=\"str\" item-value=\"value\"/>\r\n    </v-app-bar>\r\n    <v-card>\r\n      <v-card-title>Регистры</v-card-title>\r\n      <v-card-text>\r\n        <div>regPC: {{player.regPC}}</div>\r\n        <div>regSP: {{player.regSP}}</div>\r\n        <div></div>\r\n        <div>regA: {{player.regA}}</div>\r\n        <div>regX: {{player.regX}}</div>\r\n        <div>regY: {{player.regY}}</div>\r\n        <div>regP: {{player.regP}}</div>\r\n      </v-card-text>\r\n    </v-card>\r\n  </v-container>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Display from '@/components/Display.vue';\r\nimport ProcPlayer from '@/plugins/emulator/player/index.js';\r\n\r\nexport default {\r\n  components: {\r\n    Display\r\n  },\r\n\r\n  props: ['compiledCode'],\r\n\r\n  data: () => ({\r\n    speed: 128,\r\n    player: new ProcPlayer()\r\n  }),\r\n\r\n  mounted () {\r\ndocument.addEventListener( \"keypress\", e => {\r\n\tif( typeof window.event != \"undefined\" )\r\n\t\te = window.event;\r\n\tif( e.type == \"keypress\" ) {\r\n\t\tthis.player.memStoreByte( 0xff, e.which );\r\n\t}\r\n}, true );\r\n  },\r\n\r\n  methods: {\r\n    play() {\r\n      this.player.display = this.$refs.display;\r\n      this.player.setCode(this.compiledCode);\r\n      this.player.codeRunning = true;\r\n      this.$refs.display.update(this.player.memory);\r\n      this.frame();\r\n    },\r\n\r\n    frame() {\r\n      for (let i = 0; i < this.speed; i++) {\r\n        if (!this.player.execute()) {\r\n          break;\r\n        }\r\n      }\r\n      \r\n      // this.$refs.display.update(this.player.memory);\r\n      if (this.player.codeRunning) {\r\n        setTimeout(() => this.frame(), 1);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Player.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Player.vue?vue&type=template&id=9b2ac57c&\"\nimport script from \"./Player.vue?vue&type=script&lang=js&\"\nexport * from \"./Player.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VAppBar,VBtn,VCard,VCardText,VCardTitle,VContainer,VIcon,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AceEditor',{ref:\"codeEditor\",attrs:{\"lang\":\"assembly_x86\",\"theme\":\"monokai\"},on:{\"input\":_vm.input}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { CompilerError } from './index.js';\r\n\r\nexport default class LabelManager {\r\n  labels = [];\r\n\r\n  constructor(compiler) {\r\n    this.compiler = compiler;\r\n  }\r\n\r\n  indexAllLabels(lines) {\r\n    // message('Индексакция меток...');\r\n    this.compiler.defaultCodePC = this.compiler.regPC = 0x600;\r\n    lines.forEach((v, i) => {\r\n      try {\r\n        this.indexLabels(v);\r\n      } catch (e) {\r\n        throw new CompilerError(e.message, i, e.stack);\r\n      }\r\n    });\r\n\r\n    console.log(`Найдено меток: ${this.labels.length}.`, this.labels);\r\n  }\r\n\r\n  indexLabels(input) {\r\n    this.compiler.thisPC = this.compiler.defaultCodePC;\r\n\r\n    this.compiler.codeLen = 0;\r\n    try {\r\n      this.compiler.compileLine(input);\r\n    } catch(e) {\r\n      // Nothing to do\r\n    }\r\n\r\n    this.compiler.regPC += this.compiler.codeLen;\r\n  \r\n\r\n    if(!input.match(/^\\w+:/)) {\r\n      return;\r\n    }\r\n    \r\n    this.push(`${input.replace(/(^\\w+):.*$/, '$1')}|${this.compiler.thisPC}`);\r\n  }\r\n\r\n  push(name) {\r\n    if(this.labels.includes(`${name}|`)) {\r\n      throw Error(`Метка ${name} уже существует.`);\r\n    }\r\n\r\n    this.labels.push(`${name}|`);\r\n  }\r\n\r\n  getPC(name) {\r\n    const found = this.find(name);\r\n    return found ? found.split('|')[1] : -1;\r\n  }\r\n\r\n  find(name) {\r\n    return this.labels.find(v => v.startsWith(`${name}|`));\r\n  }\r\n}","const opcodes = new Array(\r\n\r\n  /* Name, Imm,  ZP,   ZPX,  ZPY,  ABS,  ABSX, ABSY, INDX, INDY, SNGL, BRA */\r\n\r\nArray(\"ADC\", 0x69, 0x65, 0x75, 0x00, 0x6d, 0x7d, 0x79, 0x61, 0x71, 0x00, 0x00 ),\r\nArray(\"AND\", 0x29, 0x25, 0x35, 0x00, 0x2d, 0x3d, 0x39, 0x21, 0x31, 0x00, 0x00 ),\r\nArray(\"ASL\", 0x00, 0x06, 0x16, 0x00, 0x0e, 0x1e, 0x00, 0x00, 0x00, 0x0a, 0x00 ),\r\nArray(\"BIT\", 0x00, 0x24, 0x00, 0x00, 0x2c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"BPL\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10 ),\r\nArray(\"BMI\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30 ),\r\nArray(\"BVC\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x50 ),\r\nArray(\"BVS\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70 ),\r\nArray(\"BCC\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x90 ),\r\nArray(\"BCS\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb0 ),\r\nArray(\"BNE\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xd0 ),\r\nArray(\"BEQ\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0 ),\r\nArray(\"CMP\", 0xc9, 0xc5, 0xd5, 0x00, 0xcd, 0xdd, 0xd9, 0xc1, 0xd1, 0x00, 0x00 ),\r\nArray(\"CPX\", 0xe0, 0xe4, 0x00, 0x00, 0xec, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"CPY\", 0xc0, 0xc4, 0x00, 0x00, 0xcc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"DEC\", 0x00, 0xc6, 0xd6, 0x00, 0xce, 0xde, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"EOR\", 0x49, 0x45, 0x55, 0x00, 0x4d, 0x5d, 0x59, 0x41, 0x51, 0x00, 0x00 ),\r\nArray(\"CLC\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00 ),\r\nArray(\"SEC\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x00 ),\r\nArray(\"CLI\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x58, 0x00 ),\r\nArray(\"SEI\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x00 ),\r\nArray(\"CLV\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xb8, 0x00 ),\r\nArray(\"CLD\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xd8, 0x00 ),\r\nArray(\"SED\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0x00 ),\r\nArray(\"INC\", 0x00, 0xe6, 0xf6, 0x00, 0xee, 0xfe, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"JMP\", 0x00, 0x00, 0x00, 0x00, 0x4c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"JSR\", 0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"LDA\", 0xa9, 0xa5, 0xb5, 0x00, 0xad, 0xbd, 0xb9, 0xa1, 0xb1, 0x00, 0x00 ),\r\nArray(\"LDX\", 0xa2, 0xa6, 0x00, 0xb6, 0xae, 0x00, 0xbe, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"LDY\", 0xa0, 0xa4, 0xb4, 0x00, 0xac, 0xbc, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"LSR\", 0x00, 0x46, 0x56, 0x00, 0x4e, 0x5e, 0x00, 0x00, 0x00, 0x4a, 0x00 ),\r\nArray(\"NOP\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xea, 0x00 ),\r\nArray(\"ORA\", 0x09, 0x05, 0x15, 0x00, 0x0d, 0x1d, 0x19, 0x01, 0x11, 0x00, 0x00 ),\r\nArray(\"TAX\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xaa, 0x00 ),\r\nArray(\"TXA\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x8a, 0x00 ),\r\nArray(\"DEX\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xca, 0x00 ),\r\nArray(\"INX\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe8, 0x00 ),\r\nArray(\"TAY\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xa8, 0x00 ),\r\nArray(\"TYA\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x98, 0x00 ),\r\nArray(\"DEY\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x88, 0x00 ),\r\nArray(\"INY\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc8, 0x00 ),\r\nArray(\"ROR\", 0x00, 0x66, 0x76, 0x00, 0x6e, 0x7e, 0x00, 0x00, 0x00, 0x6a, 0x00 ),\r\nArray(\"ROL\", 0x00, 0x26, 0x36, 0x00, 0x2e, 0x3e, 0x00, 0x00, 0x00, 0x2a, 0x00 ),\r\nArray(\"RTI\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00 ),\r\nArray(\"RTS\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x60, 0x00 ),\r\nArray(\"SBC\", 0xe9, 0xe5, 0xf5, 0x00, 0xed, 0xfd, 0xf9, 0xe1, 0xf1, 0x00, 0x00 ),\r\nArray(\"STA\", 0x00, 0x85, 0x95, 0x00, 0x8d, 0x9d, 0x99, 0x81, 0x91, 0x00, 0x00 ),\r\nArray(\"TXS\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x9a, 0x00 ),\r\nArray(\"TSX\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xba, 0x00 ),\r\nArray(\"PHA\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x48, 0x00 ),\r\nArray(\"PLA\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x68, 0x00 ),\r\nArray(\"PHP\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00 ),\r\nArray(\"PLP\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x28, 0x00 ),\r\nArray(\"STX\", 0x00, 0x86, 0x00, 0x96, 0x8e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"STY\", 0x00, 0x84, 0x94, 0x00, 0x8c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 ),\r\nArray(\"---\", 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 )\r\n);\r\n\r\nexport default opcodes;","import LabelManager from './labelManager.js';\nimport opcodes from './opcodes.js';\n\nexport class CompilerError extends Error {\n  constructor(msg, lineNumber, stack) {\n    super(msg);\n    this.lineNumber = lineNumber;\n    if (stack) {\n      this.stack = stack;\n    }\n  }\n}\n\nexport default class Compiler {\n  success = true;\n  labelManager = new LabelManager(this);\n  defines = {};\n  memory = new Array( 0x600 );\n  codeLen = 0;\n  regPC = 0x600;\n  defaultCodePC = 0x600;\n\n  reset() {\n    this.memory.fill(0x00);\n  }\n\n  compile (code) {\n    try {\n      this.reset();\n      const lines = code.split('\\n')\n        .map(v => v.replace(/^(.*?);.*/, '$1').replace(/^\\s+/, '').replace(/\\s+$/, ''));\n\n      this.labelManager.indexAllLabels(lines);\n\n      this.defaultCodePC = this.regPC = 0x600;\n      // message( \"Compiling code..\" );\n\n      lines.forEach((v, i) => {\n        try {\n          if (!this.compileLine(v, i)) {\n            throw new CompilerError('Unknown syntax error', i, '');\n          }\n        } catch (e) {\n          throw new CompilerError(e.message, i, e.stack);\n        }\n      });\n\n      if( this.codeLen == 0 ) {\n        console.log('No code to run.');\n        return;\n      }\n\n      // document.getElementById( \"runButton\" ).disabled = false;\n      // document.getElementById( \"compileButton\" ).disabled = true;\n      this.memory[this.defaultCodePC] = 0x00;\n\n      console.log(`Код успешно скомпилирован: ${this.codeLen} б.`);\n      // updateDisplayFull();\n      return true;\n    } catch (error) {\n      if (error instanceof CompilerError) {\n        return this.error(error.lineNumber, error.message);\n      }\n\n      console.error(error.stack);\n      return false;\n    }\n  }\n\n  compileLine(input) {\n    if (input.match(/^\\w+:/)) {\n      if( input.match(/^\\w+:[\\s]*\\w+.*$/ )) {\n        const newInput = input.replace(/^\\w+:[\\s]*(.*)$/, '$1');\n        return this.compileCommand(newInput, newInput.replace(/^(\\w+).*$/, '$1'));\n      }\n\n      return true;\n    }\n\n    return this.compileCommand(input, input.replace(/^(\\w+).*$/, '$1'));\n  }\n\n  compileCommand(input, rawCommand) {\n    if(!rawCommand) {\n      return true;\n    }\n\n    const command = rawCommand.toUpperCase();\n    const tokens = input.split(/ +/);\n\n    if( input.match( /^\\*[\\s]*=[\\s]*[$]?[0-9a-f]*$/ ) ) {\n      // equ spotted\n      this.param = input.replace( new RegExp( /^[\\s]*\\*[\\s]*=[\\s]*/ ), \"\" );     \n\n      /*if (this.defines[this.param]) {\n        console.log(`Found `, [this.param, this.defines[this.param]]);\n        this.param = this.defines[this.param];\n      }*/\n      let addr;\n      if( this.param[0] == \"$\" ) {\n        this.param = this.param.replace( new RegExp( /^\\$/ ), \"\" );\n        addr = parseInt( this.param, 16 );\n      } else {\n        addr = parseInt( this.param, 10 );\n      }\n      if( (addr < 0) || (addr > 0xffff) ) {\n        throw Error( \"Unable to relocate code outside 64k memory\" );\n        // return false;\n      }\n      this.defaultCodePC = addr;\n      return true;\n    }\n  \n    if( input.match( /^\\w+\\s+.*?$/ ) ) {\n      this.param = input.replace( new RegExp( /^\\w+\\s+(.*?)/ ), \"$1\" );\n      /*if (this.defines[this.param]) {\n        this.param = this.defines[this.param];\n      }*/\n    } else {\n      if( input.match( /^\\w+$/ ) ) {\n        this.param = \"\";\n      } else {\n        throw Error('Unknown characters');\n      }\n    }\n  \n    this.param = this.param.replace( /[ ]/g, \"\" );\n  \n    if(command == 'DCB' )\n      return this.DCB( this.param );\n    \n    if (command === 'DEFINE') {\n      this.defines[tokens[1]] = tokens[2];\n      return true;\n    }\n\n    Object.entries(this.defines).forEach(v => this.param = this.param.replace(v[0], v[1]));\n\n    // console.log([this.param, command]);\n    const opcode = opcodes.find(v => v[0] === command);\n    if (!opcode) {\n      throw Error(`Unknown opcode '${command}'`);\n    }\n\n    const checkers = [\n      this.checkImmediate,\n      this.checkZeroPage,\n      this.checkZeroPageX,\n      this.checkZeroPageY,\n      this.checkAbsolute,\n      this.checkAbsoluteX,\n      this.checkAbsoluteY,\n      this.checkIndirectX,\n      this.checkIndirectY,\n      this.checkSingle,\n      this.checkBranch\n    ];\n\n    const queue = [11, 1, 2, 3, 4, 6, 7, 8, 9, 10, 5, 12];\n\n    const success = queue.map(v => [checkers[v - 1], v - 1]).find(([v, i]) => opcode[i + 1] !== 0x00 && v.call(this, this.param, opcode[i + 1]));\n    if (!success) {\n      throw Error('Unknown checker error.');\n    }\n\n    return true;\n  }\n\n  checkSingle( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param != \"\" ) \n      return false;\n      // throw Error('This opcode does not require arguments');\n    this.pushByte( opcode );\n    return true;\n  }\n\n  checkImmediate( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( new RegExp( /^#\\$[0-9a-f]{1,2}$/i ) ) ) {\n      this.pushByte( opcode );\n      let value = parseInt( param.replace( /^#\\$/, \"\" ), 16 );\n      if( value < 0 || value > 255 ) \n        throw Error('Address outside of memory');\n      this.pushByte( value );\n      return true;\n    }\n    if( param.match( new RegExp( /^#[0-9]{1,3}$/i ) ) ) {\n      this.pushByte( opcode );\n      let value = parseInt( param.replace( /^#/, \"\" ), 10 );\n      if( value < 0 || value > 255 ) \n      throw Error('Address outside of memory');\n      this.pushByte( value );\n      return true;\n    }\n    // Label lo/hi\n    if( param.match( new RegExp( /^#[<>]\\w+$/ ) ) ) {\n      let label = param.replace( new RegExp( /^#[<>](\\w+)$/ ), \"$1\" );\n      let hilo = param.replace( new RegExp( /^#([<>]).*$/ ), \"$1\" );\n      this.pushByte( opcode );\n      if( this.labelManager.find( label ) ) {\n        let addr = this.labelManager.getPC( label );\n        switch( hilo ) {\n          case \">\":\n            this.pushByte( (addr >> 8) & 0xff );\n            return true;\n            // break;\n          case \"<\":\n            this.pushByte( addr & 0xff );\n            return true;\n            // break;\n          default:\n            return false;\n            // break;\n        }\n      } else {\n        this.pushByte( 0x00 );\n        return true;\n      }\n    }\n    return false;\n  }\n\n  checkZeroPage( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\$[0-9a-f]{1,2}$/i ) ) {\n      this.pushByte( opcode );\n      let value = parseInt( param.replace( /^\\$/, \"\" ), 16 );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( value );\n      return true;\n    }\n    if( param.match( /^[0-9]{1,3}$/i ) ) {\n      this.pushByte( opcode );\n      let value = parseInt( param, 10 );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( value );\n      return true;\n    }\n    return false;\n  }\n\n  checkZeroPageX( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\$[0-9a-f]{1,2},X/i ) ) {\n      this.pushByte( opcode );\n      let number = param.replace( new RegExp( /^\\$([0-9a-f]{1,2}),X/i ), \"$1\" );\n      let value = parseInt( number, 16 );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( value );\n      return true;\n    }\n    if( param.match( /^[0-9]{1,3},X/i ) ) {\n      this.pushByte( opcode );\n      let number = param.replace( new RegExp( /^([0-9]{1,3}),X/i ), \"$1\" );\n      let value = parseInt( number, 10 );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( value );\n      return true;\n    }\n    return false;\n  }\n\n  checkZeroPageY( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\$[0-9a-f]{1,2},Y/i ) ) {\n      this.pushByte( opcode );\n      let number = param.replace( new RegExp( /^\\$([0-9a-f]{1,2}),Y/i ), \"$1\" );\n      let value = parseInt( number, 16 );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( value );\n      return true;\n    }\n    if( param.match( /^[0-9]{1,3},Y/i ) ) {\n      this.pushByte( opcode );\n      let number = param.replace( new RegExp( /^([0-9]{1,3}),Y/i ), \"$1\" );\n      let value = parseInt( number, 10 );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( value );\n      return true;\n    }\n    return false;\n  }\n\n  checkAbsoluteX( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\$[0-9a-f]{3,4},X$/i ) ) {\n      this.pushByte( opcode );\n      let number = param.replace( new RegExp( /^\\$([0-9a-f]*),X/i ), \"$1\" );\n      let value = parseInt( number, 16 );\n      if( value < 0 || value > 0xffff ) return false;\n      this.pushWord( value );\n      return true;\n    }\n  \n    if( param.match( /^\\w+,X$/i ) ) {\n      param = param.replace( new RegExp( /,X$/i ), \"\" );\n      this.pushByte( opcode );\n      if( this.labelManager.find( param ) ) {\n        let addr = this.labelManager.getPC( param );\n        if( addr < 0 || addr > 0xffff ) return false;\n        this.pushWord( addr );\n        return true;\n      } else {\n        this.pushWord( 0x1234 );\n        return true;\n      }\n    }\n  \n    return false;\n  }\n\n  checkAbsoluteY( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\$[0-9a-f]{3,4},Y$/i ) ) {\n      this.pushByte( opcode );\n      let number = param.replace( new RegExp( /^\\$([0-9a-f]*),Y/i ), \"$1\" );\n      let value = parseInt( number, 16 );\n      if( value < 0 || value > 0xffff ) return false;\n      this.pushWord( value );\n      return true;\n    }\n  \n    // it could be a label too..\n  \n    if( param.match( /^\\w+,Y$/i ) ) {\n      param = param.replace( new RegExp( /,Y$/i ), \"\" );\n      this.pushByte( opcode );\n      if( this.labelManager.find( param ) ) {\n        let addr = this.labelManager.getPC( param );\n        if( addr < 0 || addr > 0xffff ) return false;\n        this.pushWord( addr );\n        return true;\n      } else {\n        this.pushWord( 0x1234 );\n        return true;\n      }\n    }\n    return false;\n  }\n\n  checkIndirectX( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\(\\$[0-9a-f]{1,2},X\\)$/i ) ) {\n      this.pushByte( opcode );\n      let value = param.replace( new RegExp( /^\\(\\$([0-9a-f]{1,2}).*$/i ), \"$1\" );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( parseInt( value, 16 ) );\n      return true;\n    }\n    return false;\n  }\n  \n  /*\n   * checkIndirectY() - Check if param is indirect Y and push value\n   * \n   */\n  \n  checkIndirectY( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    if( param.match( /^\\(\\$[0-9a-f]{1,2}\\),Y$/i ) ) {\n      this.pushByte( opcode );\n      let value = param.replace( new RegExp( /^\\([$]([0-9a-f]{1,2}).*$/i ), \"$1\" );\n      if( value < 0 || value > 255 ) return false;\n      this.pushByte( parseInt( value, 16 ) );\n      return true;\n    }\n    return false;\n  }\n\n  checkAbsolute( param, opcode ) {\n    if( opcode == 0x00 ) return false;\n    this.pushByte( opcode );\n    if( param.match( /^\\$[0-9a-f]{3,4}$/i ) ) {\n      let value = parseInt( param.replace( /^\\$/, \"\" ), 16 );\n      if( value < 0 || value > 0xffff ) return false;\n      this.pushWord( value );\n      return true;\n    }\n    if( param.match( /^[0-9]{1,5}$/i ) ) {  // Thanks, Matt!\n      let value = parseInt( param, 10 );\n      if( value < 0 || value > 65535 ) return false;\n      this.pushWord( value );\n      return( true );\n    }\n    // it could be a label too..\n    if( param.match( /^\\w+$/ ) ) {\n      if( this.labelManager.find( param ) ) {\n        let addr = (this.labelManager.getPC( param ));\n        if( addr < 0 || addr > 0xffff ) return false;\n        this.pushWord( addr );\n        return true;\n      } else {\n        this.pushWord( 0x1234 );\n        return true;\n      }\n    }\n    return false;\n  }\n\n  DCB( param ) {\n    let values = param.split( \",\" );\n    if( values.length == 0 ) return false;\n    for(let v=0; v<values.length; v++ ) {\n      let str = values[v];\n      if( str != undefined && str != null && str.length > 0 ) {\n        let ch = str.substring( 0, 1 );\n        if( ch == \"$\" ) {\n          let number = parseInt( str.replace( /^\\$/, \"\" ), 16 );\n          this.pushByte( number );\n        } else if( ch >= \"0\" && ch <= \"9\" ) {\n          let number = parseInt( str, 10 );\n          this.pushByte( number );\n        } else {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  checkBranch( param, opcode ) {\n    console.log('brn', param, opcode );\n  \n    let addr = -1;\n    if( param.match( /\\w+/ ) )\n      addr = this.labelManager.getPC( param );\n     // console.log({ addr }, this.labelManager )\n    if( addr == -1 ) { this.pushWord( 0x00 ); return false; }\n    this.pushByte( opcode );\n    if( addr < (this.defaultCodePC-0x600) ) {  // Backwards?\n      this.pushByte( (0xff - ((this.defaultCodePC-0x600)-addr)) & 0xff );\n      return true;\n    }\n    this.pushByte( (addr-(this.defaultCodePC-0x600)-1) & 0xff );\n    return true;\n  }\n\n  pushByte( value ) {\n    this.memory[this.defaultCodePC] = value & 0xff;\n    //if (this.memory[this.defaultCodePC] != memory[this.defaultCodePC]) {\n    //  throw Error( \"velue \" + this.memory[this.defaultCodePC] + ' != ' + memory[this.defaultCodePC] + ' = ' + this.defaultCodePC);\n    //}\n    this.defaultCodePC++;\n    this.codeLen++;\n  }\n\n  pushWord( value ) {\n    this.pushByte( value & 0xff );\n    this.pushByte( (value>>8) & 0xff );\n  }\n}\n","<template>\r\n  <AceEditor @input=\"input\" ref=\"codeEditor\" lang=\"assembly_x86\" theme=\"monokai\"/>\r\n</template>\r\n\r\n<script>\r\nimport AceEditor from 'vue2-ace-editor';\r\nimport 'brace/mode/assembly_x86';\r\nimport 'brace/theme/monokai';\r\n\r\nimport Compiler from '@/plugins/emulator/compiler/index.js';\r\n\r\nexport default {\r\n  components: { AceEditor },\r\n\r\n  data: () => ({\r\n    compiling: false,\r\n    timer: null\r\n  }),\r\n\r\n  mounted() {\r\n    this.$refs.codeEditor.editor.setValue(localStorage.value || '; Write your beautiful asm. Use tutorials: https://en.wikibooks.org/wiki/6502_Assembly');\r\n  },\r\n\r\n  methods: {\r\n    input(value) {\r\n      localStorage.value = value;\r\n\r\n      if (this.timer) {\r\n        clearTimeout(this.timer);\r\n      }\r\n\r\n      this.timer = setTimeout(() => this.compile(), 1500);\r\n    },\r\n\r\n    compile() {\r\n      if (this.compiling) {\r\n        return this.input();\r\n      }\r\n\r\n      this.compiling = true;\r\n      const compiler = new Compiler();\r\n      compiler.error = (row, text, stack = null) => {\r\n        console.error(`<b>Синтаксическая ошибка (${row + 1}): ${text}</b>`);\r\n        this.$refs.codeEditor.editor.gotoLine(row + 1, 0, true);\r\n        this.$refs.codeEditor.editor.getSession().setAnnotations([{ type: 'error', text: stack || text, row }]);\r\n      };\r\n\r\n      const response = compiler.compile(this.$refs.codeEditor.editor.getValue());\r\n      if (response) {\r\n        this.$emit('compiled', {\r\n          memory: compiler.memory,\r\n          regPC: compiler.regPC,\r\n          defaultCodePC: compiler.defaultCodePC\r\n        });\r\n      }\r\n\r\n      this.compiling = false;\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=c403790c&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-playlist-star\")])],1)]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\"Examples\")]),_c('v-card-subtitle',[_vm._v(\"Most of the examples are taken from http://6502asm.com/\")]),_c('v-card-text',[_c('v-list',_vm._l((_vm.items),function(item){return _c('v-list-item',{key:item.name,attrs:{\"two-line\":\"\"},on:{\"click\":function () { return _vm.load(item.file); }}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(item.description))])],1)],1)}),1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"target\":\"_blank\",\"href\":\"https://github.com/TheEVolk/6502asm/issues/new\"}},[_vm._v(\"Add my example\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<v-dialog width=\"500\" v-model=\"dialog\">\r\n  <template v-slot:activator=\"{ on, attrs }\">\r\n    <v-btn icon v-bind=\"attrs\" v-on=\"on\"><v-icon>mdi-playlist-star</v-icon></v-btn>\r\n  </template>\r\n\r\n  <v-card>\r\n    <v-card-title>Examples</v-card-title>\r\n    <v-card-subtitle>Most of the examples are taken from http://6502asm.com/</v-card-subtitle>\r\n    <v-card-text>\r\n      <v-list>\r\n        <v-list-item v-for=\"item in items\" :key=\"item.name\" @click=\"() => load(item.file)\" two-line>\r\n          <v-list-item-content>\r\n            <v-list-item-title>{{item.name}}</v-list-item-title>\r\n            <v-list-item-subtitle>{{item.description}}</v-list-item-subtitle>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n      </v-list>\r\n    </v-card-text>\r\n    <v-card-actions>\r\n      <v-btn color=\"primary\" target=\"_blank\" href=\"https://github.com/TheEVolk/6502asm/issues/new\">Add my example</v-btn>\r\n    </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    dialog: false,\r\n    items: []\r\n  }),\r\n\r\n  async mounted() {\r\n    this.items = await fetch('/examples/list.json').then(v => v.json());\r\n  },\r\n\r\n  methods: {\r\n    async load(file) {\r\n      this.dialog = false;\r\n      this.$emit('load', '; Loading...');\r\n      this.$emit('load', await fetch(`/examples/${file}`).then(v => v.text()));\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loader.vue?vue&type=template&id=1759a6ee&\"\nimport script from \"./Loader.vue?vue&type=script&lang=js&\"\nexport * from \"./Loader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardSubtitle,VCardText,VCardTitle,VDialog,VIcon,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-help\")])],1)]}}])},[_c('v-card',[_c('v-card-title',[_vm._v(\"About\")]),_c('v-card-text',[_vm._v(\" This is an improved 6502 processor emulator. \"),_c('ul',[_c('li',[_vm._v(\"The ability to change the emulation speed\")]),_c('li',[_vm._v(\"80% refactored code\")]),_c('li',[_vm._v(\"Canvas for image output\")]),_c('li',[_vm._v(\"Convenient code editor (ace)\")]),_c('li',[_vm._v(\"Ability to save your code\")]),_c('li',[_vm._v(\"More detailed compilation errors\")]),_c('li',[_vm._v(\"Automatic compilation\")]),_c('li',[_vm._v(\"Automatic saving of the entered code\")])]),_c('h4',[_vm._v(\"By TheEVolk\")]),_c('ul',[_c('li',[_vm._v(\"GitHub: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/TheEVolk/6502asm\"}},[_vm._v(\"TheEVolk/6502asm\")])]),_c('li',[_vm._v(\"VK: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://vk.com/theevolk\"}},[_vm._v(\"@theevolk\")])]),_c('li',[_vm._v(\"Telegram: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://t.me/theevolk\"}},[_vm._v(\"@theevolk\")])]),_c('li',[_vm._v(\"Email: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"mailto:elektro-volk@yandex.ru\"}},[_vm._v(\"elektro-volk@yandex.ru\")])]),_c('li',[_vm._v(\"Email 2: \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"mailto:theevolk@vk.com\"}},[_vm._v(\"theevolk@vk.com\")])])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=68285cbc&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDialog,VIcon})\n","<template>\n  <v-app>\n    <v-app-bar\n      app\n      color=\"blue\"\n      dark\n      dense\n    >\n      <h1 class=\"d-flex align-center\">\n        <v-icon large>mdi-chip</v-icon>\n        6502 ASM\n      </h1>\n\n      <v-spacer></v-spacer>\n      <About/>\n      <Loader @load=\"v => $refs.editorPage.$refs.codeEditor.editor.setValue(v)\"/>\n      <v-btn @click=\"save\" icon><v-icon>mdi-download</v-icon></v-btn>\n      <v-btn @click=\"toggleState\" text>\n        {{this.state === 'player' ? 'Code editor' : 'Player'}}\n      </v-btn>\n    </v-app-bar>\n\n    <v-main>\n      <Player v-show=\"state === 'player'\" :compiledCode=\"compiledCode\"/>\n      <Editor v-show=\"state === 'editor'\" @compiled=\"compiled\" ref=\"editorPage\"/>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport Player from '@/components/Player.vue';\nimport Editor from '@/components/Editor.vue';\nimport Loader from '@/components/Loader.vue';\nimport About from '@/components/About.vue';\n\nexport default {\n  components: {\n    Player,\n    Editor,\n    Loader,\n    About\n  },\n\n  data: () => ({\n    compiledCode: null,\n    state: 'player' // player/editor\n  }),\n\n  methods: {\n    toggleState() {\n      this.state = this.state === 'player' ? 'editor' : 'player';\n    },\n    compiled(compiledCode) {\n      this.compiledCode = compiledCode;\n    },\n    save() {\n      const text = `; From 6502 emulator (https://theevolk.github.io/6502asm)\\n${this.$refs.editorPage.$refs.codeEditor.editor.getValue()}`;\n      const blob = new Blob([text], { type: 'text/plain' });\n      const a = document.createElement('a');\n      a.download = `6502asm_${new Date().toISOString()}.asm`;\n      a.href = URL.createObjectURL(blob);\n      a.dataset.downloadurl = ['text/plain', a.download, a.href].join(':');\n      a.style.display = \"none\";\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      setTimeout(() => URL.revokeObjectURL(a.href), 1500);\n    }\n  }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2e9f4a61&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VApp,VAppBar,VBtn,VIcon,VMain,VSpacer})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib/framework';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  theme: {\n    dark: true\n  }\n});\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport vuetify from './plugins/vuetify'\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  vuetify,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Display.vue?vue&type=style&index=0&id=71e6a92c&scoped=true&lang=css&\""],"sourceRoot":""}