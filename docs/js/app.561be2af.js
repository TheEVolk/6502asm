(function(t){function e(e){for(var i,o,n=e[0],a=e[1],g=e[2],u=0,p=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i]);c&&c(e);while(p.length)p.shift()();return h.push.apply(h,g||[]),r()}function r(){for(var t,e=0;e<h.length;e++){for(var r=h[e],i=!0,n=1;n<r.length;n++){var a=r[n];0!==s[a]&&(i=!1)}i&&(h.splice(e--,1),t=o(o.s=r[0]))}return t}var i={},s={app:0},h=[];function o(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=i,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(r,i,function(e){return t[e]}.bind(null,i));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/6502asm/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],a=n.push.bind(n);n.push=e,n=n.slice();for(var g=0;g<n.length;g++)e(n[g]);var c=a;h.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"302b":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var i=r("2b0e"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"blue",dark:"",dense:""}},[r("h1",{staticClass:"d-flex align-center"},[r("v-icon",{attrs:{large:""}},[t._v("mdi-chip")]),t._v(" 6502 ASM ")],1),r("v-spacer"),r("About"),r("Loader",{on:{load:function(e){return t.$refs.editorPage.$refs.codeEditor.editor.setValue(e)}}}),r("v-btn",{attrs:{icon:""},on:{click:t.save}},[r("v-icon",[t._v("mdi-download")])],1),r("v-btn",{attrs:{text:""},on:{click:t.toggleState}},[t._v(" "+t._s("player"===this.state?"Code editor":"Player")+" ")])],1),r("v-main",[r("Player",{directives:[{name:"show",rawName:"v-show",value:"player"===t.state,expression:"state === 'player'"}],attrs:{compiledCode:t.compiledCode}}),r("Editor",{directives:[{name:"show",rawName:"v-show",value:"editor"===t.state,expression:"state === 'editor'"}],ref:"editorPage",on:{compiled:t.compiled}})],1)],1)},h=[],o=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("a15b"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{height:"100%"}},[r("div",{staticStyle:{position:"absolute",width:"700px",height:"700px"}},[r("Display",{ref:"display",staticStyle:{width:"100%",height:"100%"}})],1),r("v-container",{staticStyle:{float:"right",width:"calc(100% - 700px)"}},[r("v-app-bar",{attrs:{dark:"",dense:""}},[t.compiledCode&&!this.player.codeRunning?r("v-btn",{attrs:{icon:""},on:{click:t.play}},[r("v-icon",[t._v("mdi-play")])],1):t._e(),this.player.codeRunning?r("v-btn",{attrs:{icon:""},on:{click:function(e){t.player.codeRunning=!1}}},[r("v-icon",[t._v("mdi-pause")])],1):t._e()],1),r("v-app-bar",{attrs:{dark:""}},[r("v-select",{attrs:{label:"Speed",dense:"",items:[16,32,64,128,256,512,1024].map((function(t){return{str:"x"+t,value:t}})),"item-text":"str","item-value":"value"},model:{value:t.speed,callback:function(e){t.speed=e},expression:"speed"}})],1),r("v-card",[r("v-card-title",[t._v("Регистры")]),r("v-card-text",[r("div",[t._v("regPC: "+t._s(t.player.regPC))]),r("div",[t._v("regSP: "+t._s(t.player.regSP))]),r("div"),r("div",[t._v("regA: "+t._s(t.player.regA))]),r("div",[t._v("regX: "+t._s(t.player.regX))]),r("div",[t._v("regY: "+t._s(t.player.regY))]),r("div",[t._v("regP: "+t._s(t.player.regP))])])],1)],1)],1)}),n=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("canvas",{ref:"canvas",attrs:{width:"100%",height:"100%"}})},g=[],c={data:function(){return{palette:["#000000","#ffffff","#880000","#aaffee","#cc44cc","#00cc55","#0000aa","#eeee77","#dd8855","#664400","#ff7777","#333333","#777777","#aaff66","#0088ff","#bbbbbb"]}},mounted:function(){this.canvas=this.$refs.canvas,this.canvas.width=this.canvas.height=512,this.context=this.canvas.getContext("2d")},methods:{update:function(t){for(var e=0;e<32;e++)for(var r=0;r<32;r++){var i=(e<<5)+r;this.setAddrPixel(i,this.palette[15&t[i+512]])}},setPixel:function(t,e,r){this.context.fillStyle=r,this.context.fillRect(16*t,16*e,16,16)},setAddrPixel:function(t,e){var r=Math.floor(t/32),i=t%32;this.setPixel(i,r,e)},setRawAddrPixel:function(t,e){this.setAddrPixel(t,this.palette[e])}}},u=c,p=(r("d604"),r("2877")),m=Object(p["a"])(u,a,g,!1,null,"71e6a92c",null),P=m.exports,l=r("2909"),f=r("d4ec"),y=r("bee2"),d=r("ade3");function v(t){var e="0123456789abcdef",r=(240&t)>>4,i=15&t;return e.substring(r,r+1)+e.substring(i,i+1)}function A(){this.codeRunning=!1}function B(){var t=this.popByte()+this.regX,e=this.memory[t]+(this.memory[t+1]<<8);this.regA|=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function b(){var t=this.popByte();this.regA|=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function C(){var t=this.popByte(),e=this.memory[t];this.regP=254&this.regP|e>>7&1,e<<=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function k(){this.stackPush(this.regP)}function w(){this.regA|=this.popByte(),this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function S(){this.regP=254&this.regP|this.regA>>7&1,this.regA=this.regA<<1,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function X(){this.regA|=this.memory[this.popWord()],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function $(){var t=this.popWord(),e=this.memory[t];this.regP=254&this.regP|e>>7&1,e<<=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function _(){var t=this.popByte();0==(128&this.regP)&&this.jumpBranch(t)}function x(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY;this.regA|=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Y(){var t=this.popByte()+this.regX&255;this.regA|=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function E(){var t=this.popByte()+this.regX&255,e=this.memory[t];this.regP=254&this.regP|e>>7&1,e<<=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function W(){this.regP&=254}function j(){var t=this.popWord()+this.regY;this.regA|=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function O(){var t=this.popWord()+this.regX;this.regA|=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function R(){var t=this.popWord()+this.regX,e=this.memory[t];this.regP=254&this.regP|e>>7&1,e<<=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function V(){var t=this.popWord(),e=this.regPC-1;this.stackPush(e>>8&255),this.stackPush(255&e),this.regPC=t}function I(){var t=this.popByte()+this.regX&255,e=this.memory[t]+(this.memory[t+1]<<8);this.regA&=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function L(){var t=this.popByte(),e=this.memory[t];e&this.regA?this.regP&=253:this.regP|=2,this.regP=63&this.regP|192&e}function T(){var t=this.popByte();this.regA&=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP&=128:this.regP&=127}function D(){var t=1&this.regP,e=this.popByte(),r=this.memory[e];this.regP=254&this.regP|r>>7&1,r<<=1,r|=t,this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function M(){this.regP=32|this.stackPop()}function N(){this.regA&=this.popByte(),this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function U(){var t=1&this.regP;this.regP=254&this.regP|this.regA>>7&1,this.regA=this.regA<<1,this.regA|=t,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Z(){var t=this.memory[this.popWord()];t&this.regA?this.regP&=253:this.regP|=2,this.regP=63&this.regP|192&t}function J(){var t=this.memory[this.popWord()];this.regA&=t,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function H(){var t=1&this.regP,e=this.popWord(),r=this.memory[e];this.regP=254&this.regP|r>>7&1,r<<=1,r|=t,this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function F(){var t=this.popByte();128&this.regP&&this.jumpBranch(t)}function G(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY;this.regA&=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function K(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regX;this.regA&=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Q(){var t=1&this.regP,e=this.popByte()+this.regX&255,r=this.memory[e];this.regP=254&this.regP|r>>7&1,r<<=1,r|=t,this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function q(){this.regP|=1}function z(){var t=this.popWord()+this.regY,e=this.memory[t];this.regA&=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function tt(){var t=this.popWord()+this.regX,e=this.memory[t];this.regA&=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function et(){var t=1&this.regP,e=this.popWord()+this.regX,r=this.memory[e];this.regP=254&this.regP|r>>7&1,r<<=1,r|=t,this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function rt(){}function it(){var t=this.popByte()+this.regX&255,e=this.memory[t]+(this.memory[t+1]<<8);this.regA^=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function st(){var t=this.popByte()+this.regX&255,e=this.memory[t];this.regA^=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function ht(){var t=255&this.popByte(),e=this.memory[t];this.regP=254&this.regP|1&e,e>>=1,this.memStoreByte(t,e),0!=e?this.regP&=253:this.regP|=2,128==(128&e)?this.regP|=128:this.regP&=127}function ot(){this.stackPush(this.regA)}function nt(){this.regA^=this.popByte(),this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function at(){this.regP=254&this.regP|1&this.regA,this.regA=this.regA>>1,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function gt(){this.regPC=this.popWord()}function ct(){var t=this.popWord(),e=this.memory[t];this.regA^=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function ut(){var t=this.popWord(),e=this.memory[t];this.regP=254&this.regP|1&e,e>>=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function pt(){var t=this.popByte();0==(64&this.regP)&&this.jumpBranch(t)}function mt(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY;this.regA^=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Pt(){var t=this.popByte()+this.regX&255;this.regA^=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function lt(){var t=this.popByte()+this.regX&255,e=this.memory[t];this.regP=254&this.regP|1&e,e>>=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function ft(){}function yt(){var t=this.popWord()+this.regY,e=this.memory[t];this.regA^=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function dt(){var t=this.popWord()+this.regX,e=this.memory[t];this.regA^=e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function vt(){var t=this.popWord()+this.regX,e=this.memory[t];this.regP=254&this.regP|1&e,e>>=1,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function At(){this.regPC=this.stackPop()+1|this.stackPop()<<8}function Bt(){var t=this.popByte()+this.regX&255,e=this.memory[t]+(this.memory[t+1]<<8),r=this.memory[e];this.testADC(r)}function bt(){var t=this.popByte(),e=this.memory[t];this.testADC(e)}function Ct(){var t=1&this.regP,e=this.popByte(),r=this.memory[e];this.regP=254&this.regP|1&r,r>>=1,t&&(r|=128),this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function kt(){this.regA=this.stackPop(),this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function wt(){var t=this.popByte();this.testADC(t)}function St(){var t=1&this.regP;this.regP=254&this.regP|1&this.regA,this.regA=this.regA>>1,t&&(this.regA|=128),this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Xt(){}function $t(){var t=this.popWord(),e=this.memory[t];this.testADC(e)}function _t(){var t=1&this.regP,e=this.popWord(),r=this.memory[e];this.regP=254&this.regP|1&r,r>>=1,t&&(r|=128),this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function xt(){var t=this.popByte();64&this.regP&&this.jumpBranch(t)}function Yt(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8),r=this.memory[e+this.regY];this.testADC(r)}function Et(){var t=this.popByte()+this.regX&255,e=this.memory[t];this.regP=254&this.regP|1&e,this.testADC(e)}function Wt(){var t=1&this.regP,e=this.popByte()+this.regX&255,r=this.memory[e];this.regP=254&this.regP|1&r,r>>=1,t&&(r|=128),this.memStoreByte(e,r),r?this.regP&=253:this.regP|=2,128&r?this.regP|=128:this.regP&=127}function jt(){}function Ot(){var t=this.popWord(),e=this.memory[t+this.regY];this.testADC(e)}function Rt(){var t=this.popWord(),e=this.memory[t+this.regX];this.testADC(e)}function Vt(){var t=this.popWord()+this.regX,e=this.memory[t];this.regP=254&this.regP|1&e,e>>=1,e&&(e|=128),this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function It(){var t=this.popByte()+this.regX&255,e=this.memory[t]+(this.memory[t+1]<<8);this.memStoreByte(e,this.regA)}function Lt(){this.memStoreByte(this.popByte(),this.regY)}function Tt(){this.memStoreByte(this.popByte(),this.regA)}function Dt(){this.memStoreByte(this.popByte(),this.regX)}function Mt(){this.regY=this.regY-1&255,this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function Nt(){this.regA=255&this.regX,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Ut(){this.memStoreByte(this.popWord(),this.regY)}function Zt(){this.memStoreByte(this.popWord(),this.regA)}function Jt(){this.memStoreByte(this.popWord(),this.regX)}function Ht(){var t=this.popByte();0==(1&this.regP)&&this.jumpBranch(t)}function Ft(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY;this.memStoreByte(e,this.regA)}function Gt(){this.memStoreByte(this.popByte()+this.regX,this.regY)}function Kt(){this.memStoreByte(this.popByte()+this.regX,this.regA)}function Qt(){this.memStoreByte(this.popByte()+this.regY,this.regX)}function qt(){this.regA=255&this.regY,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function zt(){this.memStoreByte(this.popWord()+this.regY,this.regA)}function te(){this.regSP=255&this.regX}function ee(){var t=this.popWord();this.memStoreByte(t+this.regX,this.regA)}function re(){this.regY=this.popByte(),this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function ie(){var t=this.popByte()+this.regX&255,e=this.memory[t]+(this.memory[t+1]<<8);this.regA=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function se(){this.regX=this.popByte(),this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function he(){this.regY=this.memory[this.popByte()],this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function oe(){this.regA=this.memory[this.popByte()],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function ne(){this.regX=this.memory[this.popByte()],this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function ae(){this.regY=255&this.regA,this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function ge(){this.regA=this.popByte(),this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function ce(){this.regX=255&this.regA,this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function ue(){this.regY=this.memory[this.popWord()],this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function pe(){this.regA=this.memory[this.popWord()],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function me(){this.regX=this.memory[this.popWord()],this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function Pe(){var t=this.popByte();1&this.regP&&this.jumpBranch(t)}function le(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY;this.regA=this.memory[e],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function fe(){this.regY=this.memory[this.popByte()+this.regX],this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function ye(){this.regA=this.memory[this.popByte()+this.regX&255],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function de(){this.regX=this.memory[this.popByte()+this.regY],this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function ve(){this.regP&=191}function Ae(){var t=this.popWord()+this.regY;this.regA=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function Be(){this.regX=255&this.regSP}function be(){var t=this.popWord()+this.regX;this.regY=this.memory[t],this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function Ce(){var t=this.popWord()+this.regX;this.regA=this.memory[t],this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}function ke(){var t=this.popWord()+this.regY;this.regX=this.memory[t],this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function we(){var t=this.popByte();this.regY+t>255?this.regP|=1:this.regP&=254,t=this.regY-t,t?this.regP&=253:this.regP|=2,128&t?this.regP|=128:this.regP&=127}function Se(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY,r=this.memory[e];this.doCompare(this.regA,r)}function Xe(){var t=this.memory[this.popByte()];this.doCompare(this.regY,t)}function $e(){var t=this.memory[this.popByte()];this.doCompare(this.regA,t)}function _e(){var t=this.popByte(),e=this.memory[t];--e,this.memStoreByte(t,255&e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function xe(){this.regY=this.regY+1&255,this.regY?this.regP&=253:this.regP|=2,128&this.regY?this.regP|=128:this.regP&=127}function Ye(){var t=this.popByte();this.doCompare(this.regA,t)}function Ee(){this.regX=this.regX-1&255,this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function We(){var t=this.memory[this.popWord()];this.doCompare(this.regY,t)}function je(){var t=this.memory[this.popWord()];this.doCompare(this.regA,t)}function Oe(){var t=this.popWord(),e=this.memory[t];--e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function Re(){var t=this.popByte();0==(2&this.regP)&&this.jumpBranch(t)}function Ve(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8)+this.regY,r=this.memory[e];this.doCompare(this.regA,r)}function Ie(){var t=this.memory[this.popByte()+this.regX];this.doCompare(this.regA,t)}function Le(){var t=this.popByte()+this.regX,e=this.memory[t];--e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function Te(){this.regP&=247}function De(){var t=this.popWord()+this.regY,e=this.memory[t];this.doCompare(this.regA,e)}function Me(){var t=this.popWord()+this.regX,e=this.memory[t];this.doCompare(this.regA,e)}function Ne(){var t=this.popWord()+this.regX,e=this.memory[t];--e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function Ue(){var t=this.popByte();this.doCompare(this.regX,t)}function Ze(){var t=this.popByte()+this.regX&255,e=this.memory[t]+(this.memory[t+1]<<8),r=this.memory[e];this.testSBC(r)}function Je(){var t=this.memory[this.popByte()];this.doCompare(this.regX,t)}function He(){var t=this.popByte(),e=this.memory[t];this.testSBC(e)}function Fe(){var t=this.popByte(),e=this.memory[t];++e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function Ge(){this.regX=this.regX+1&255,this.regX?this.regP&=253:this.regP|=2,128&this.regX?this.regP|=128:this.regP&=127}function Ke(){var t=this.popByte();this.testSBC(t)}function Qe(){}function qe(){var t=this.memory[this.popWord()];this.doCompare(this.regX,t)}function ze(){var t=this.popWord(),e=this.memory[t];this.testSBC(e)}function tr(){var t=this.popWord(),e=this.memory[t];++e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function er(){var t=this.popByte();2&this.regP&&this.jumpBranch(t)}function rr(){var t=this.popByte(),e=this.memory[t]+(this.memory[t+1]<<8),r=this.memory[e+this.regY];this.testSBC(r)}function ir(){var t=this.popByte()+this.regX&255,e=this.memory[t];this.regP=254&this.regP|1&e,this.testSBC(e)}function sr(){var t=this.popByte()+this.regX,e=this.memory[t];++e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function hr(){this.regP|=8}function or(){var t=this.popWord(),e=this.memory[t+this.regY];this.testSBC(e)}function nr(){var t=this.popWord(),e=this.memory[t+this.regX];this.testSBC(e)}function ar(){var t=this.popWord()+this.regX,e=this.memory[t];++e,e&=255,this.memStoreByte(t,e),e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}function gr(t){console.error("Address $"+this.regPC+" - unknown opcode "+v(t)),this.codeRunning=!1}var cr=[A,B,gr,gr,gr,b,C,gr,k,w,S,gr,gr,X,$,gr,_,x,gr,gr,gr,Y,E,gr,W,j,gr,gr,gr,O,R,gr,V,I,gr,gr,L,T,D,gr,M,N,U,gr,Z,J,H,gr,F,G,gr,gr,gr,K,Q,gr,q,z,gr,gr,gr,tt,et,gr,rt,it,gr,gr,gr,st,ht,gr,ot,nt,at,gr,gt,ct,ut,gr,pt,mt,gr,gr,gr,Pt,lt,gr,ft,yt,gr,gr,gr,dt,vt,gr,At,Bt,gr,gr,gr,bt,Ct,gr,kt,wt,St,gr,Xt,$t,_t,gr,xt,Yt,gr,gr,gr,Et,Wt,gr,jt,Ot,gr,gr,gr,Rt,Vt,gr,gr,It,gr,gr,Lt,Tt,Dt,gr,Mt,gr,Nt,gr,Ut,Zt,Jt,gr,Ht,Ft,gr,gr,Gt,Kt,Qt,gr,qt,zt,te,gr,gr,ee,gr,gr,re,ie,se,gr,he,oe,ne,gr,ae,ge,ce,gr,ue,pe,me,gr,Pe,le,gr,gr,fe,ye,de,gr,ve,Ae,Be,gr,be,Ce,ke,gr,we,Se,gr,gr,Xe,$e,_e,gr,xe,Ye,Ee,gr,We,je,Oe,gr,Re,Ve,gr,gr,gr,Ie,Le,gr,Te,De,gr,gr,gr,Me,Ne,gr,Ue,Ze,gr,gr,Je,He,Fe,gr,Ge,Ke,Qe,gr,qe,ze,tr,gr,er,rr,gr,gr,gr,ir,sr,gr,hr,or,gr,gr,gr,nr,ar,gr],ur=cr,pr=function(){function t(){Object(f["a"])(this,t),Object(d["a"])(this,"codeRunning",!1),Object(d["a"])(this,"defaultCodePC",1536),Object(d["a"])(this,"regA",0),Object(d["a"])(this,"regX",0),Object(d["a"])(this,"regY",0),Object(d["a"])(this,"regP",0),Object(d["a"])(this,"regPC",1536),Object(d["a"])(this,"regSP",256)}return Object(y["a"])(t,[{key:"setCode",value:function(t){this.regPC=t.regPC,this.defaultCodePC=t.defaultCodePC,this.memory=Object(l["a"])(t.memory),this.regA=this.regX=this.regY=0,this.regSP=256,this.regP=32}},{key:"execute",value:function(){if(!this.codeRunning)return!1;this.memory[254]=Math.floor(256*Math.random());var t=this.popByte();return ur[t].call(this,t),!(0===this.regPC||!this.codeRunning)||(console.log("Program end at PC=$"+(this.regPC-1)),this.codeRunning=!1,!1)}},{key:"popByte",value:function(){return 255&this.memory[this.regPC++]}},{key:"popWord",value:function(){return this.popByte()+(this.popByte()<<8)}},{key:"memStoreByte",value:function(t,e){this.memory[t]=255&e,t>=512&&t<=1535&&this.display.setRawAddrPixel(t-512,15&this.memory[t])}},{key:"stackPush",value:function(t){this.regSP>=0?(this.regSP--,this.memory[256+(255&this.regSP)]=255&t):(console.error("Stack full: "+this.regSP),this.codeRunning=!1)}},{key:"stackPop",value:function(){if(this.regSP<256){var t=this.memory[this.regSP+256];return this.regSP++,t}return console.error("Stack empty"),this.codeRunning=!1,0}},{key:"doCompare",value:function(t,e){t>=e?this.regP|=1:this.regP&=254,e=t-e,e?this.regP&=253:this.regP|=2,128&e?this.regP|=128:this.regP&=127}},{key:"jumpBranch",value:function(t){this.regPC=t>127?this.regPC-(256-t):this.regPC+t}},{key:"testADC",value:function(t){var e;128&(this.regA^t)?this.regP&=191:this.regP|=64,8&this.regP?(e=(15&this.regA)+(15&t)+(1&this.regP),e>=10&&(e=16|e+6&15),e+=(240&this.regA)+(240&t),e>=160?(this.regP|=1,191&this.regP&&e>=384&&(this.regP&=191),e+=96):(this.regP&=254,191&this.regP&&e<128&&(this.regP&=191))):(e=this.regA+t+(1&this.regP),e>=256?(this.regP|=1,191&this.regP&&e>=384&&(this.regP&=191)):(this.regP&=254,191&this.regP&&e<128&&(this.regP&=191))),this.regA=255&e,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}},{key:"testSBC",value:function(t){var e,r;8&this.regP?(e=15+(15&this.regA)-(15&t)+(1&this.regP),e<16?(r=0,e-=6):(r=16,e-=16),r+=240+(240&this.regA)-(240&t),r<256?(this.regP&=254,191&this.regP&&r<128&&(this.regP&=191),r-=96):(this.regP|=1,191&this.regP&&r>=384&&(this.regP&=191)),r+=e):(r=255+this.regA-t+(1&this.regP),r<256?(this.regP&=254,191&this.regP&&r<128&&(this.regP&=191)):(this.regP|=1,191&this.regP&&r>=384&&(this.regP&=191))),this.regA=255&r,this.regA?this.regP&=253:this.regP|=2,128&this.regA?this.regP|=128:this.regP&=127}}]),t}(),mr={components:{Display:P},props:["compiledCode"],data:function(){return{speed:128,player:new pr}},mounted:function(){var t=this;document.addEventListener("keypress",(function(e){"undefined"!=typeof window.event&&(e=window.event),"keypress"==e.type&&t.player.memStoreByte(255,e.which)}),!0)},methods:{play:function(){this.player.display=this.$refs.display,this.player.setCode(this.compiledCode),this.player.codeRunning=!0,this.$refs.display.update(this.player.memory),this.frame()},frame:function(){for(var t=this,e=0;e<this.speed;e++)if(!this.player.execute())break;this.player.codeRunning&&setTimeout((function(){return t.frame()}),1)}}},Pr=mr,lr=r("6544"),fr=r.n(lr),yr=r("40dc"),dr=r("8336"),vr=r("b0af"),Ar=r("99d9"),Br=r("a523"),br=r("132d"),Cr=r("b974"),kr=Object(p["a"])(Pr,o,n,!1,null,null,null),wr=kr.exports;fr()(kr,{VAppBar:yr["a"],VBtn:dr["a"],VCard:vr["a"],VCardText:Ar["c"],VCardTitle:Ar["d"],VContainer:Br["a"],VIcon:br["a"],VSelect:Cr["a"]});var Sr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("AceEditor",{ref:"codeEditor",attrs:{lang:"assembly_x86",theme:"monokai"},on:{input:t.input}})},Xr=[],$r=(r("99af"),r("7c9e")),_r=r.n($r),xr=(r("2c7e"),r("14d4"),r("3835")),Yr=r("262e"),Er=r("2caf"),Wr=r("9072"),jr=(r("cb29"),r("d81d"),r("ac1f"),r("1276"),r("5319"),r("159b"),r("466d"),r("4d63"),r("25f0"),r("4fad"),r("7db0"),r("caad"),r("2532"),r("2ca0"),function(){function t(e){Object(f["a"])(this,t),Object(d["a"])(this,"labels",[]),this.compiler=e}return Object(y["a"])(t,[{key:"indexAllLabels",value:function(t){var e=this;this.compiler.defaultCodePC=this.compiler.regPC=1536,t.forEach((function(t,r){try{e.indexLabels(t)}catch(i){throw new Vr(i.message,r,i.stack)}})),console.log("Найдено меток: ".concat(this.labels.length,"."),this.labels)}},{key:"indexLabels",value:function(t){this.compiler.thisPC=this.compiler.defaultCodePC,this.compiler.codeLen=0;try{this.compiler.compileLine(t)}catch(e){}this.compiler.regPC+=this.compiler.codeLen,t.match(/^\w+:/)&&this.push("".concat(t.replace(/(^\w+):.*$/,"$1"),"|").concat(this.compiler.thisPC))}},{key:"push",value:function(t){if(this.labels.includes("".concat(t,"|")))throw Error("Метка ".concat(t," уже существует."));this.labels.push("".concat(t,"|"))}},{key:"getPC",value:function(t){var e=this.find(t);return e?e.split("|")[1]:-1}},{key:"find",value:function(t){return this.labels.find((function(e){return e.startsWith("".concat(t,"|"))}))}}]),t}()),Or=new Array(Array("ADC",105,101,117,0,109,125,121,97,113,0,0),Array("AND",41,37,53,0,45,61,57,33,49,0,0),Array("ASL",0,6,22,0,14,30,0,0,0,10,0),Array("BIT",0,36,0,0,44,0,0,0,0,0,0),Array("BPL",0,0,0,0,0,0,0,0,0,0,16),Array("BMI",0,0,0,0,0,0,0,0,0,0,48),Array("BVC",0,0,0,0,0,0,0,0,0,0,80),Array("BVS",0,0,0,0,0,0,0,0,0,0,112),Array("BCC",0,0,0,0,0,0,0,0,0,0,144),Array("BCS",0,0,0,0,0,0,0,0,0,0,176),Array("BNE",0,0,0,0,0,0,0,0,0,0,208),Array("BEQ",0,0,0,0,0,0,0,0,0,0,240),Array("CMP",201,197,213,0,205,221,217,193,209,0,0),Array("CPX",224,228,0,0,236,0,0,0,0,0,0),Array("CPY",192,196,0,0,204,0,0,0,0,0,0),Array("DEC",0,198,214,0,206,222,0,0,0,0,0),Array("EOR",73,69,85,0,77,93,89,65,81,0,0),Array("CLC",0,0,0,0,0,0,0,0,0,24,0),Array("SEC",0,0,0,0,0,0,0,0,0,56,0),Array("CLI",0,0,0,0,0,0,0,0,0,88,0),Array("SEI",0,0,0,0,0,0,0,0,0,120,0),Array("CLV",0,0,0,0,0,0,0,0,0,184,0),Array("CLD",0,0,0,0,0,0,0,0,0,216,0),Array("SED",0,0,0,0,0,0,0,0,0,248,0),Array("INC",0,230,246,0,238,254,0,0,0,0,0),Array("JMP",0,0,0,0,76,0,0,0,0,0,0),Array("JSR",0,0,0,0,32,0,0,0,0,0,0),Array("LDA",169,165,181,0,173,189,185,161,177,0,0),Array("LDX",162,166,0,182,174,0,190,0,0,0,0),Array("LDY",160,164,180,0,172,188,0,0,0,0,0),Array("LSR",0,70,86,0,78,94,0,0,0,74,0),Array("NOP",0,0,0,0,0,0,0,0,0,234,0),Array("ORA",9,5,21,0,13,29,25,1,17,0,0),Array("TAX",0,0,0,0,0,0,0,0,0,170,0),Array("TXA",0,0,0,0,0,0,0,0,0,138,0),Array("DEX",0,0,0,0,0,0,0,0,0,202,0),Array("INX",0,0,0,0,0,0,0,0,0,232,0),Array("TAY",0,0,0,0,0,0,0,0,0,168,0),Array("TYA",0,0,0,0,0,0,0,0,0,152,0),Array("DEY",0,0,0,0,0,0,0,0,0,136,0),Array("INY",0,0,0,0,0,0,0,0,0,200,0),Array("ROR",0,102,118,0,110,126,0,0,0,106,0),Array("ROL",0,38,54,0,46,62,0,0,0,42,0),Array("RTI",0,0,0,0,0,0,0,0,0,64,0),Array("RTS",0,0,0,0,0,0,0,0,0,96,0),Array("SBC",233,229,245,0,237,253,249,225,241,0,0),Array("STA",0,133,149,0,141,157,153,129,145,0,0),Array("TXS",0,0,0,0,0,0,0,0,0,154,0),Array("TSX",0,0,0,0,0,0,0,0,0,186,0),Array("PHA",0,0,0,0,0,0,0,0,0,72,0),Array("PLA",0,0,0,0,0,0,0,0,0,104,0),Array("PHP",0,0,0,0,0,0,0,0,0,8,0),Array("PLP",0,0,0,0,0,0,0,0,0,40,0),Array("STX",0,134,0,150,142,0,0,0,0,0,0),Array("STY",0,132,148,0,140,0,0,0,0,0,0),Array("---",0,0,0,0,0,0,0,0,0,0,0)),Rr=Or,Vr=function(t){Object(Yr["a"])(r,t);var e=Object(Er["a"])(r);function r(t,i,s){var h;return Object(f["a"])(this,r),h=e.call(this,t),h.lineNumber=i,s&&(h.stack=s),h}return r}(Object(Wr["a"])(Error)),Ir=function(){function t(){Object(f["a"])(this,t),Object(d["a"])(this,"success",!0),Object(d["a"])(this,"labelManager",new jr(this)),Object(d["a"])(this,"defines",{}),Object(d["a"])(this,"memory",new Array(1536)),Object(d["a"])(this,"codeLen",0),Object(d["a"])(this,"regPC",1536),Object(d["a"])(this,"defaultCodePC",1536)}return Object(y["a"])(t,[{key:"reset",value:function(){this.memory.fill(0)}},{key:"compile",value:function(t){var e=this;try{this.reset();var r=t.split("\n").map((function(t){return t.replace(/^(.*?);.*/,"$1").replace(/^\s+/,"").replace(/\s+$/,"")}));return this.labelManager.indexAllLabels(r),this.defaultCodePC=this.regPC=1536,r.forEach((function(t,r){try{if(!e.compileLine(t,r))throw new Vr("Unknown syntax error",r,"")}catch(i){throw new Vr(i.message,r,i.stack)}})),0==this.codeLen?void console.log("No code to run."):(this.memory[this.defaultCodePC]=0,console.log("Код успешно скомпилирован: ".concat(this.codeLen," б.")),!0)}catch(i){return i instanceof Vr?this.error(i.lineNumber,i.message):(console.error(i.stack),!1)}}},{key:"compileLine",value:function(t){if(t.match(/^\w+:/)){if(t.match(/^\w+:[\s]*\w+.*$/)){var e=t.replace(/^\w+:[\s]*(.*)$/,"$1");return this.compileCommand(e,e.replace(/^(\w+).*$/,"$1"))}return!0}return this.compileCommand(t,t.replace(/^(\w+).*$/,"$1"))}},{key:"compileCommand",value:function(t,e){var r=this;if(!e)return!0;var i=e.toUpperCase(),s=t.split(/ +/);if(t.match(/^\*[\s]*=[\s]*[$]?[0-9a-f]*$/)){var h;if(this.param=t.replace(new RegExp(/^[\s]*\*[\s]*=[\s]*/),""),"$"==this.param[0]?(this.param=this.param.replace(new RegExp(/^\$/),""),h=parseInt(this.param,16)):h=parseInt(this.param,10),h<0||h>65535)throw Error("Unable to relocate code outside 64k memory");return this.defaultCodePC=h,!0}if(t.match(/^\w+\s+.*?$/))this.param=t.replace(new RegExp(/^\w+\s+(.*?)/),"$1");else{if(!t.match(/^\w+$/))throw Error("Unknown characters");this.param=""}if(this.param=this.param.replace(/[ ]/g,""),"DCB"==i)return this.DCB(this.param);if("DEFINE"===i)return this.defines[s[1]]=s[2],!0;Object.entries(this.defines).forEach((function(t){return r.param=r.param.replace(t[0],t[1])}));var o=Rr.find((function(t){return t[0]===i}));if(!o)throw Error("Unknown opcode '".concat(i,"'"));var n=[this.checkImmediate,this.checkZeroPage,this.checkZeroPageX,this.checkZeroPageY,this.checkAbsolute,this.checkAbsoluteX,this.checkAbsoluteY,this.checkIndirectX,this.checkIndirectY,this.checkSingle,this.checkBranch],a=[11,1,2,3,4,6,7,8,9,10,5,12],g=a.map((function(t){return[n[t-1],t-1]})).find((function(t){var e=Object(xr["a"])(t,2),i=e[0],s=e[1];return 0!==o[s+1]&&i.call(r,r.param,o[s+1])}));if(!g)throw Error("Unknown checker error.");return!0}},{key:"checkSingle",value:function(t,e){return 0!=e&&(""==t&&(this.pushByte(e),!0))}},{key:"checkImmediate",value:function(t,e){if(0==e)return!1;if(t.match(new RegExp(/^#\$[0-9a-f]{1,2}$/i))){this.pushByte(e);var r=parseInt(t.replace(/^#\$/,""),16);if(r<0||r>255)throw Error("Address outside of memory");return this.pushByte(r),!0}if(t.match(new RegExp(/^#[0-9]{1,3}$/i))){this.pushByte(e);var i=parseInt(t.replace(/^#/,""),10);if(i<0||i>255)throw Error("Address outside of memory");return this.pushByte(i),!0}if(t.match(new RegExp(/^#[<>]\w+$/))){var s=t.replace(new RegExp(/^#[<>](\w+)$/),"$1"),h=t.replace(new RegExp(/^#([<>]).*$/),"$1");if(this.pushByte(e),!this.labelManager.find(s))return this.pushByte(0),!0;var o=this.labelManager.getPC(s);switch(h){case">":return this.pushByte(o>>8&255),!0;case"<":return this.pushByte(255&o),!0;default:return!1}}return!1}},{key:"checkZeroPage",value:function(t,e){if(0==e)return!1;if(t.match(/^\$[0-9a-f]{1,2}$/i)){this.pushByte(e);var r=parseInt(t.replace(/^\$/,""),16);return!(r<0||r>255)&&(this.pushByte(r),!0)}if(t.match(/^[0-9]{1,3}$/i)){this.pushByte(e);var i=parseInt(t,10);return!(i<0||i>255)&&(this.pushByte(i),!0)}return!1}},{key:"checkZeroPageX",value:function(t,e){if(0==e)return!1;if(t.match(/^\$[0-9a-f]{1,2},X/i)){this.pushByte(e);var r=t.replace(new RegExp(/^\$([0-9a-f]{1,2}),X/i),"$1"),i=parseInt(r,16);return!(i<0||i>255)&&(this.pushByte(i),!0)}if(t.match(/^[0-9]{1,3},X/i)){this.pushByte(e);var s=t.replace(new RegExp(/^([0-9]{1,3}),X/i),"$1"),h=parseInt(s,10);return!(h<0||h>255)&&(this.pushByte(h),!0)}return!1}},{key:"checkZeroPageY",value:function(t,e){if(0==e)return!1;if(t.match(/^\$[0-9a-f]{1,2},Y/i)){this.pushByte(e);var r=t.replace(new RegExp(/^\$([0-9a-f]{1,2}),Y/i),"$1"),i=parseInt(r,16);return!(i<0||i>255)&&(this.pushByte(i),!0)}if(t.match(/^[0-9]{1,3},Y/i)){this.pushByte(e);var s=t.replace(new RegExp(/^([0-9]{1,3}),Y/i),"$1"),h=parseInt(s,10);return!(h<0||h>255)&&(this.pushByte(h),!0)}return!1}},{key:"checkAbsoluteX",value:function(t,e){if(0==e)return!1;if(t.match(/^\$[0-9a-f]{3,4},X$/i)){this.pushByte(e);var r=t.replace(new RegExp(/^\$([0-9a-f]*),X/i),"$1"),i=parseInt(r,16);return!(i<0||i>65535)&&(this.pushWord(i),!0)}if(t.match(/^\w+,X$/i)){if(t=t.replace(new RegExp(/,X$/i),""),this.pushByte(e),this.labelManager.find(t)){var s=this.labelManager.getPC(t);return!(s<0||s>65535)&&(this.pushWord(s),!0)}return this.pushWord(4660),!0}return!1}},{key:"checkAbsoluteY",value:function(t,e){if(0==e)return!1;if(t.match(/^\$[0-9a-f]{3,4},Y$/i)){this.pushByte(e);var r=t.replace(new RegExp(/^\$([0-9a-f]*),Y/i),"$1"),i=parseInt(r,16);return!(i<0||i>65535)&&(this.pushWord(i),!0)}if(t.match(/^\w+,Y$/i)){if(t=t.replace(new RegExp(/,Y$/i),""),this.pushByte(e),this.labelManager.find(t)){var s=this.labelManager.getPC(t);return!(s<0||s>65535)&&(this.pushWord(s),!0)}return this.pushWord(4660),!0}return!1}},{key:"checkIndirectX",value:function(t,e){if(0==e)return!1;if(t.match(/^\(\$[0-9a-f]{1,2},X\)$/i)){this.pushByte(e);var r=t.replace(new RegExp(/^\(\$([0-9a-f]{1,2}).*$/i),"$1");return!(r<0||r>255)&&(this.pushByte(parseInt(r,16)),!0)}return!1}},{key:"checkIndirectY",value:function(t,e){if(0==e)return!1;if(t.match(/^\(\$[0-9a-f]{1,2}\),Y$/i)){this.pushByte(e);var r=t.replace(new RegExp(/^\([$]([0-9a-f]{1,2}).*$/i),"$1");return!(r<0||r>255)&&(this.pushByte(parseInt(r,16)),!0)}return!1}},{key:"checkAbsolute",value:function(t,e){if(0==e)return!1;if(this.pushByte(e),t.match(/^\$[0-9a-f]{3,4}$/i)){var r=parseInt(t.replace(/^\$/,""),16);return!(r<0||r>65535)&&(this.pushWord(r),!0)}if(t.match(/^[0-9]{1,5}$/i)){var i=parseInt(t,10);return!(i<0||i>65535)&&(this.pushWord(i),!0)}if(t.match(/^\w+$/)){if(this.labelManager.find(t)){var s=this.labelManager.getPC(t);return!(s<0||s>65535)&&(this.pushWord(s),!0)}return this.pushWord(4660),!0}return!1}},{key:"DCB",value:function(t){var e=t.split(",");if(0==e.length)return!1;for(var r=0;r<e.length;r++){var i=e[r];if(void 0!=i&&null!=i&&i.length>0){var s=i.substring(0,1);if("$"==s){var h=parseInt(i.replace(/^\$/,""),16);this.pushByte(h)}else{if(!(s>="0"&&s<="9"))return!1;var o=parseInt(i,10);this.pushByte(o)}}}return!0}},{key:"checkBranch",value:function(t,e){console.log("brn",t,e);var r=-1;return t.match(/\w+/)&&(r=this.labelManager.getPC(t)),-1==r?(this.pushWord(0),!1):(this.pushByte(e),r<this.defaultCodePC-1536?(this.pushByte(255-(this.defaultCodePC-1536-r)&255),!0):(this.pushByte(r-(this.defaultCodePC-1536)-1&255),!0))}},{key:"pushByte",value:function(t){this.memory[this.defaultCodePC]=255&t,this.defaultCodePC++,this.codeLen++}},{key:"pushWord",value:function(t){this.pushByte(255&t),this.pushByte(t>>8&255)}}]),t}(),Lr={components:{AceEditor:_r.a},data:function(){return{compiling:!1,timer:null}},mounted:function(){this.$refs.codeEditor.editor.setValue(localStorage.value||"; Write your beautiful asm. Use tutorials: https://en.wikibooks.org/wiki/6502_Assembly")},methods:{input:function(t){var e=this;localStorage.value=t,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){return e.compile()}),1500)},compile:function(){var t=this;if(this.compiling)return this.input();this.compiling=!0;var e=new Ir;e.error=function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;console.error("<b>Синтаксическая ошибка (".concat(e+1,"): ").concat(r,"</b>")),t.$refs.codeEditor.editor.gotoLine(e+1,0,!0),t.$refs.codeEditor.editor.getSession().setAnnotations([{type:"error",text:i||r,row:e}])};var r=e.compile(this.$refs.codeEditor.editor.getValue());r&&this.$emit("compiled",{memory:e.memory,regPC:e.regPC,defaultCodePC:e.defaultCodePC}),this.compiling=!1}}},Tr=Lr,Dr=Object(p["a"])(Tr,Sr,Xr,!1,null,null,null),Mr=Dr.exports,Nr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),i),[r("v-icon",[t._v("mdi-playlist-star")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[r("v-card",[r("v-card-title",[t._v("Examples")]),r("v-card-subtitle",[t._v("Most of the examples are taken from http://6502asm.com/")]),r("v-card-text",[r("v-list",t._l(t.items,(function(e){return r("v-list-item",{key:e.name,attrs:{"two-line":""},on:{click:function(){return t.load(e.file)}}},[r("v-list-item-content",[r("v-list-item-title",[t._v(t._s(e.name))]),r("v-list-item-subtitle",[t._v(t._s(e.description))])],1)],1)})),1)],1),r("v-card-actions",[r("v-btn",{attrs:{color:"primary",target:"_blank",href:"https://github.com/TheEVolk/6502asm/issues/new"}},[t._v("Add my example")])],1)],1)],1)},Ur=[],Zr=r("1da1"),Jr=(r("96cf"),{data:function(){return{dialog:!1,items:[]}},mounted:function(){var t=this;return Object(Zr["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("/examples/list.json").then((function(t){return t.json()}));case 2:t.items=e.sent;case 3:case"end":return e.stop()}}),e)})))()},methods:{load:function(t){var e=this;return Object(Zr["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.dialog=!1,e.$emit("load","; Loading..."),r.t0=e,r.next=5,fetch("/examples/".concat(t)).then((function(t){return t.text()}));case 5:r.t1=r.sent,r.t0.$emit.call(r.t0,"load",r.t1);case 7:case"end":return r.stop()}}),r)})))()}}}),Hr=Jr,Fr=r("169a"),Gr=r("8860"),Kr=r("da13"),Qr=r("5d23"),qr=Object(p["a"])(Hr,Nr,Ur,!1,null,null,null),zr=qr.exports;fr()(qr,{VBtn:dr["a"],VCard:vr["a"],VCardActions:Ar["a"],VCardSubtitle:Ar["b"],VCardText:Ar["c"],VCardTitle:Ar["d"],VDialog:Fr["a"],VIcon:br["a"],VList:Gr["a"],VListItem:Kr["a"],VListItemContent:Qr["a"],VListItemSubtitle:Qr["b"],VListItemTitle:Qr["c"]});var ti=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,s=e.attrs;return[r("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),i),[r("v-icon",[t._v("mdi-help")])],1)]}}])},[r("v-card",[r("v-card-title",[t._v("About")]),r("v-card-text",[t._v(" This is an improved 6502 processor emulator. "),r("ul",[r("li",[t._v("The ability to change the emulation speed")]),r("li",[t._v("80% refactored code")]),r("li",[t._v("Canvas for image output")]),r("li",[t._v("Convenient code editor (ace)")]),r("li",[t._v("Ability to save your code")]),r("li",[t._v("More detailed compilation errors")]),r("li",[t._v("Automatic compilation")]),r("li",[t._v("Automatic saving of the entered code")])]),r("h4",[t._v("By TheEVolk")]),r("ul",[r("li",[t._v("GitHub: "),r("a",{attrs:{target:"_blank",href:"https://github.com/TheEVolk/6502asm"}},[t._v("TheEVolk/6502asm")])]),r("li",[t._v("VK: "),r("a",{attrs:{target:"_blank",href:"https://vk.com/theevolk"}},[t._v("@theevolk")])]),r("li",[t._v("Telegram: "),r("a",{attrs:{target:"_blank",href:"https://t.me/theevolk"}},[t._v("@theevolk")])]),r("li",[t._v("Email: "),r("a",{attrs:{target:"_blank",href:"mailto:elektro-volk@yandex.ru"}},[t._v("elektro-volk@yandex.ru")])]),r("li",[t._v("Email 2: "),r("a",{attrs:{target:"_blank",href:"mailto:theevolk@vk.com"}},[t._v("theevolk@vk.com")])])])])],1)],1)},ei=[],ri={},ii=Object(p["a"])(ri,ti,ei,!1,null,null,null),si=ii.exports;fr()(ii,{VBtn:dr["a"],VCard:vr["a"],VCardText:Ar["c"],VCardTitle:Ar["d"],VDialog:Fr["a"],VIcon:br["a"]});var hi={components:{Player:wr,Editor:Mr,Loader:zr,About:si},data:function(){return{compiledCode:null,state:"player"}},methods:{toggleState:function(){this.state="player"===this.state?"editor":"player"},compiled:function(t){this.compiledCode=t},save:function(){var t="; From 6502 emulator (https://theevolk.github.io/6502asm)\n".concat(this.$refs.editorPage.$refs.codeEditor.editor.getValue()),e=new Blob([t],{type:"text/plain"}),r=document.createElement("a");r.download="6502asm_".concat((new Date).toISOString(),".asm"),r.href=URL.createObjectURL(e),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){return URL.revokeObjectURL(r.href)}),1500)}}},oi=hi,ni=r("7496"),ai=r("f6c4"),gi=r("2fa4"),ci=Object(p["a"])(oi,s,h,!1,null,null,null),ui=ci.exports;fr()(ci,{VApp:ni["a"],VAppBar:yr["a"],VBtn:dr["a"],VIcon:br["a"],VMain:ai["a"],VSpacer:gi["a"]});var pi=r("f309");i["a"].use(pi["a"]);var mi=new pi["a"]({theme:{dark:!0}});i["a"].config.productionTip=!1,new i["a"]({vuetify:mi,render:function(t){return t(ui)}}).$mount("#app")},d604:function(t,e,r){"use strict";r("302b")}});
//# sourceMappingURL=app.561be2af.js.map